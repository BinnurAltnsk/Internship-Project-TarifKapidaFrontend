{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{BrowserRouter as Router,Routes,Route}from\"react-router-dom\";import axios from\"axios\";import HomePage from\"./pages/HomePage\";import ProfilePage from\"./pages/ProfilePage\";import LoginForm from\"./components/Auth/LoginForm\";import RegisterForm from\"./components/Auth/RegisterForm\";import RecipeDetailModal from\"./components/Recipe/RecipeDetailModal\";import Navbar from\"./components/Navbar/Navbar\";import\"./App.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[user,setUser]=useState(null);const[recipes,setRecipes]=useState([]);const[favorites,setFavorites]=useState([]);const[showLogin,setShowLogin]=useState(false);const[showRegister,setShowRegister]=useState(false);const[selectedRecipe,setSelectedRecipe]=useState(null);const[searchTerm,setSearchTerm]=useState(\"\");const[theme,setTheme]=useState(\"light\");useEffect(()=>{localStorage.setItem(\"API_BASE_URL\",\"https://enchanting-basbousa-e1a991.netlify.app\");},[]);useEffect(()=>{const token=localStorage.getItem(\"token\");const savedUser=localStorage.getItem(\"user\");if(token&&savedUser){try{const userData=JSON.parse(savedUser);setUser(userData);}catch{localStorage.clear();}}// Tema tercihini localStorage'dan al\nconst savedTheme=localStorage.getItem(\"theme\")||\"light\";setTheme(savedTheme);document.documentElement.setAttribute(\"data-theme\",savedTheme);},[]);const handleAuthSuccess=userData=>{setUser(userData);localStorage.setItem(\"user\",JSON.stringify(userData));setShowLogin(false);setShowRegister(false);};const handleLogout=()=>{localStorage.removeItem(\"token\");localStorage.removeItem(\"user\");setUser(null);setFavorites([]);};const handleFavorite=recipeId=>{if(!user)return;setFavorites(prev=>prev.includes(recipeId)?prev.filter(id=>id!==recipeId):[...prev,recipeId]);};const toggleTheme=()=>{const newTheme=theme===\"light\"?\"dark\":\"light\";setTheme(newTheme);localStorage.setItem(\"theme\",newTheme);document.documentElement.setAttribute(\"data-theme\",newTheme);};const handleProfileClick=()=>{window.location.href='/profil';};const handleLogoClick=()=>{window.location.href='/';};const handleLoginClick=()=>{setShowLogin(true);setShowRegister(false);};const handleRegisterClick=()=>{setShowRegister(true);setShowLogin(false);};const handleSwitchToRegister=()=>{setShowLogin(false);setShowRegister(true);};const handleSwitchToLogin=()=>{setShowRegister(false);setShowLogin(true);};const closeModals=()=>{setShowLogin(false);setShowRegister(false);};return/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(Navbar,{searchTerm:searchTerm,setSearchTerm:setSearchTerm,user:user,onLoginClick:handleLoginClick,onRegisterClick:handleRegisterClick,onLogout:handleLogout,onProfileClick:handleProfileClick,onLogoClick:handleLogoClick,theme:theme,toggleTheme:toggleTheme}),/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(HomePage,{user:user,setUser:setUser,recipes:recipes,setRecipes:setRecipes,favorites:favorites,setFavorites:setFavorites,onFavoriteClick:handleFavorite,onLoginClick:handleLoginClick,onRegisterClick:handleRegisterClick,onLogout:handleLogout,searchTerm:searchTerm})}),/*#__PURE__*/_jsx(Route,{path:\"/profil\",element:/*#__PURE__*/_jsx(ProfilePage,{user:user,favorites:favorites,recipes:recipes,onFavoriteClick:handleFavorite})})]}),showLogin&&/*#__PURE__*/_jsx(LoginForm,{onSuccess:handleAuthSuccess,onClose:closeModals,onSwitchToRegister:handleSwitchToRegister}),showRegister&&/*#__PURE__*/_jsx(RegisterForm,{onSuccess:handleAuthSuccess,onClose:closeModals,onSwitchToLogin:handleSwitchToLogin}),selectedRecipe&&/*#__PURE__*/_jsx(RecipeDetailModal,{recipe:selectedRecipe,user:user,onClose:()=>setSelectedRecipe(null)})]})});}export default App;","map":{"version":3,"names":["React","useState","useEffect","BrowserRouter","Router","Routes","Route","axios","HomePage","ProfilePage","LoginForm","RegisterForm","RecipeDetailModal","Navbar","jsx","_jsx","jsxs","_jsxs","App","user","setUser","recipes","setRecipes","favorites","setFavorites","showLogin","setShowLogin","showRegister","setShowRegister","selectedRecipe","setSelectedRecipe","searchTerm","setSearchTerm","theme","setTheme","localStorage","setItem","token","getItem","savedUser","userData","JSON","parse","clear","savedTheme","document","documentElement","setAttribute","handleAuthSuccess","stringify","handleLogout","removeItem","handleFavorite","recipeId","prev","includes","filter","id","toggleTheme","newTheme","handleProfileClick","window","location","href","handleLogoClick","handleLoginClick","handleRegisterClick","handleSwitchToRegister","handleSwitchToLogin","closeModals","children","className","onLoginClick","onRegisterClick","onLogout","onProfileClick","onLogoClick","path","element","onFavoriteClick","onSuccess","onClose","onSwitchToRegister","onSwitchToLogin","recipe"],"sources":["C:/Users/x_user/Desktop/Internship-Project-TarifKapidaFrontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { BrowserRouter as Router, Routes, Route } from \"react-router-dom\";\nimport axios from \"axios\";\nimport HomePage from \"./pages/HomePage\";\nimport ProfilePage from \"./pages/ProfilePage\";\nimport LoginForm from \"./components/Auth/LoginForm\";\nimport RegisterForm from \"./components/Auth/RegisterForm\";\nimport RecipeDetailModal from \"./components/Recipe/RecipeDetailModal\";\nimport Navbar from \"./components/Navbar/Navbar\";\nimport \"./App.css\";\n\nfunction App() {\n  const [user, setUser] = useState(null);\n  const [recipes, setRecipes] = useState([]);\n  const [favorites, setFavorites] = useState([]);\n  const [showLogin, setShowLogin] = useState(false);\n  const [showRegister, setShowRegister] = useState(false);\n  const [selectedRecipe, setSelectedRecipe] = useState(null);\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [theme, setTheme] = useState(\"light\");\n\n  useEffect(() => {\n    localStorage.setItem(\"API_BASE_URL\", \"https://enchanting-basbousa-e1a991.netlify.app\");\n  }, []);\n\n  useEffect(() => {\n    const token = localStorage.getItem(\"token\");\n    const savedUser = localStorage.getItem(\"user\");\n    if (token && savedUser) {\n      try {\n        const userData = JSON.parse(savedUser);\n        setUser(userData);\n      } catch {\n        localStorage.clear();\n      }\n    }\n    \n    // Tema tercihini localStorage'dan al\n    const savedTheme = localStorage.getItem(\"theme\") || \"light\";\n    setTheme(savedTheme);\n    document.documentElement.setAttribute(\"data-theme\", savedTheme);\n  }, []);\n\n  const handleAuthSuccess = (userData) => {\n    setUser(userData);\n    localStorage.setItem(\"user\", JSON.stringify(userData));\n    setShowLogin(false);\n    setShowRegister(false);\n  };\n\n  const handleLogout = () => {\n    localStorage.removeItem(\"token\");\n    localStorage.removeItem(\"user\");\n    setUser(null);\n    setFavorites([]);\n  };\n\n  const handleFavorite = (recipeId) => {\n    if (!user) return;\n    setFavorites((prev) =>\n      prev.includes(recipeId)\n        ? prev.filter((id) => id !== recipeId)\n        : [...prev, recipeId]\n    );\n  };\n\n  const toggleTheme = () => {\n    const newTheme = theme === \"light\" ? \"dark\" : \"light\";\n    setTheme(newTheme);\n    localStorage.setItem(\"theme\", newTheme);\n    document.documentElement.setAttribute(\"data-theme\", newTheme);\n  };\n\n  const handleProfileClick = () => {\n    window.location.href = '/profil';\n  };\n\n  const handleLogoClick = () => {\n    window.location.href = '/';\n  };\n\n  const handleLoginClick = () => {\n    setShowLogin(true);\n    setShowRegister(false);\n  };\n\n  const handleRegisterClick = () => {\n    setShowRegister(true);\n    setShowLogin(false);\n  };\n\n  const handleSwitchToRegister = () => {\n    setShowLogin(false);\n    setShowRegister(true);\n  };\n\n  const handleSwitchToLogin = () => {\n    setShowRegister(false);\n    setShowLogin(true);\n  };\n\n  const closeModals = () => {\n    setShowLogin(false);\n    setShowRegister(false);\n  };\n\n  return (\n    <Router>\n      <div className=\"App\">\n        <Navbar\n          searchTerm={searchTerm}\n          setSearchTerm={setSearchTerm}\n          user={user}\n          onLoginClick={handleLoginClick}\n          onRegisterClick={handleRegisterClick}\n          onLogout={handleLogout}\n          onProfileClick={handleProfileClick}\n          onLogoClick={handleLogoClick}\n          theme={theme}\n          toggleTheme={toggleTheme}\n        />\n        \n        <Routes>\n          <Route\n            path=\"/\"\n            element={\n              <HomePage\n                user={user}\n                setUser={setUser}\n                recipes={recipes}\n                setRecipes={setRecipes}\n                favorites={favorites}\n                setFavorites={setFavorites}\n                onFavoriteClick={handleFavorite}\n                onLoginClick={handleLoginClick}\n                onRegisterClick={handleRegisterClick}\n                onLogout={handleLogout}\n                searchTerm={searchTerm}\n              />\n            }\n          />\n          <Route\n            path=\"/profil\"\n            element={\n              <ProfilePage\n                user={user}\n                favorites={favorites}\n                recipes={recipes}\n                onFavoriteClick={handleFavorite}\n              />\n            }\n          />\n        </Routes>\n      \n        {showLogin && (\n          <LoginForm\n            onSuccess={handleAuthSuccess}\n            onClose={closeModals}\n            onSwitchToRegister={handleSwitchToRegister}\n          />\n        )}\n        {showRegister && (\n          <RegisterForm\n            onSuccess={handleAuthSuccess}\n            onClose={closeModals}\n            onSwitchToLogin={handleSwitchToLogin}\n          />\n        )}\n        {selectedRecipe && (\n          <RecipeDetailModal\n            recipe={selectedRecipe}\n            user={user}\n            onClose={() => setSelectedRecipe(null)}\n          />\n        )}\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}