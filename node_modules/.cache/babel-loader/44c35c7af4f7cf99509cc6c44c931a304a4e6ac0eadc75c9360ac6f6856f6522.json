{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import\"./ProfilePage.css\";import{reviewService}from\"../../services/reviewService\";import{userService}from\"../../services/userService\";import{getProfilePhotoUrl}from\"../../services/api\";import RecipeCard from\"../Recipe/RecipeCard\";import RecipeDetailModal from\"../Recipe/RecipeDetailModal\";import ProfileEditModal from\"./ProfileEditModal\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const tabs=[{key:\"profile\",label:\"Profil\"},{key:\"favorites\",label:\"Favoriler\"},{key:\"comments\",label:\"Yorumlarım\"}];export default function ProfilePage(_ref){let{user,favorites,recipes,onFavoriteClick,onProfileUpdate}=_ref;const[activeTab,setActiveTab]=useState(\"profile\");const[userComments,setUserComments]=useState([]);const[loadingComments,setLoadingComments]=useState(false);const[selectedRecipe,setSelectedRecipe]=useState(null);const[showRecipeModal,setShowRecipeModal]=useState(false);const[showProfileEditModal,setShowProfileEditModal]=useState(false);const[profilePhoto,setProfilePhoto]=useState(null);const[userProfile,setUserProfile]=useState(null);const[loadingProfile,setLoadingProfile]=useState(true);useEffect(()=>{if(user!==null&&user!==void 0&&user.userId){// Önceki profil verilerini temizle\nsetUserProfile(null);setProfilePhoto(null);setUserComments([]);// Kısa bir gecikme ile profil yükle\nconst timer=setTimeout(()=>{loadUserProfile();loadUserComments();},100);return()=>clearTimeout(timer);}else{// Kullanıcı yoksa profil bilgilerini temizle\nsetUserProfile(null);setProfilePhoto(null);setUserComments([]);}},[user===null||user===void 0?void 0:user.userId,user===null||user===void 0?void 0:user.username]);// Hem userId hem de username değişikliklerini izle\nuseEffect(()=>{console.log(\"ProfilePage - Profil fotoğrafı ayarlanıyor:\",{userProfile:userProfile,profileImageBase64:userProfile===null||userProfile===void 0?void 0:userProfile.profileImageBase64,userId:user===null||user===void 0?void 0:user.userId,username:user===null||user===void 0?void 0:user.username});if(userProfile!==null&&userProfile!==void 0&&userProfile.profileImageBase64&&user!==null&&user!==void 0&&user.userId){// Base64 formatında ise doğrudan kullan\nif(userProfile.profileImageBase64.startsWith('data:image/')){console.log(\"ProfilePage - Base64 formatında profil fotoğrafı ayarlanıyor\");setProfilePhoto(userProfile.profileImageBase64);}else{// Dosya yolu formatında ise URL oluştur\nconst photoUrl=getProfilePhotoUrl(userProfile.profileImageBase64);// Benzersiz cache busting\nconst uniqueId=`${user.userId}_${Date.now()}_${Math.random()}`;const cacheBustUrl=`${photoUrl}?uid=${uniqueId}`;console.log(\"ProfilePage - URL formatında profil fotoğrafı ayarlanıyor:\",{originalUrl:photoUrl,cacheBustUrl:cacheBustUrl,userId:user.userId});setProfilePhoto(cacheBustUrl);}}else{// Profil fotoğrafı yoksa temizle\nconsole.log(\"ProfilePage - Profil fotoğrafı temizleniyor\");setProfilePhoto(null);}},[userProfile===null||userProfile===void 0?void 0:userProfile.profileImageBase64,user===null||user===void 0?void 0:user.userId]);const loadUserProfile=async()=>{try{// Kullanıcı kontrolü\nif(!(user!==null&&user!==void 0&&user.userId)){console.log(\"ProfilePage - Kullanıcı ID yok, profil yükleme iptal edildi\");return;}setLoadingProfile(true);console.log(\"ProfilePage - Profil yükleniyor, userId:\",user.userId,\"username:\",user.username);// Profil var mı kontrol et\nconst existsResponse=await userService.profileExists(user.userId);if(existsResponse.data){// Profil varsa getir\nconst response=await userService.getUserProfile(user.userId);if(response.data){console.log(\"ProfilePage - Profil yüklendi:\",{profileData:response.data,profileImageBase64:response.data.profileImageBase64,userId:response.data.userId,expectedUserId:user.userId});// Kullanıcı kontrolü yap\nif(response.data.userId===user.userId){setUserProfile(response.data);}else{console.log(\"ProfilePage - Profil userId eşleşmiyor, yeni profil oluşturuluyor\");await createUserProfile();}}}else{// Profil yoksa oluştur\nconsole.log(\"ProfilePage - Profil bulunamadı, yeni profil oluşturuluyor\");await createUserProfile();}}catch(error){console.error(\"ProfilePage - Profil yükleme hatası:\",error);// Hata durumunda yeni profil oluşturmayı dene\ntry{await createUserProfile();}catch(createError){console.error(\"ProfilePage - Profil oluşturma hatası:\",createError);}}finally{setLoadingProfile(false);}};// Yeni profil oluştur\nconst createUserProfile=async()=>{try{const newProfile={userId:user.userId,username:user.username,email:user.email,profileImageBase64:null,bio:null,location:null,website:null,dateOfBirth:null,phoneNumber:null};const response=await userService.createUserProfile(newProfile);if(response.data){setUserProfile(response.data);}}catch(error){console.error(\"Profil oluşturma hatası:\",error);}};// Kullanıcı yorumlarını yükle\nconst loadUserComments=async()=>{try{setLoadingComments(true);const response=await reviewService.getReviews();const userReviews=response.data.filter(review=>review.userId===user.userId);setUserComments(userReviews);}catch(error){console.error(\"Yorumlar yüklenemedi:\",error);setUserComments([]);}finally{setLoadingComments(false);}};// Profil fotoğrafı güncelleme\nconst handleProfilePhotoUpdate=async photoUrl=>{if(userProfile){try{const updatedProfile={...userProfile,profileImageBase64:photoUrl// Backend'deki property adına uygun\n};const response=await userService.updateUserProfile(updatedProfile);if(response.data){setUserProfile(response.data);// Navbar'ı güncellemek için callback çağır\nif(onProfileUpdate){onProfileUpdate();}}}catch(error){console.error(\"Profil güncelleme hatası:\",error);}}};// Tarif detayı aç\nconst handleRecipeClick=recipe=>{setSelectedRecipe(recipe);setShowRecipeModal(true);};// Modal kapat\nconst handleCloseModal=()=>{setShowRecipeModal(false);setSelectedRecipe(null);};// Favori tarifleri filtrele\nconst favoriteRecipes=recipes.filter(r=>favorites&&favorites.includes(r.recipeId));return/*#__PURE__*/_jsxs(\"div\",{className:\"profile-root\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"profile-cover\",children:/*#__PURE__*/_jsx(\"button\",{className:\"profile-photo-btn\",onClick:()=>setShowProfileEditModal(true),children:\"\\uD83D\\uDCF7 Profili D\\xFCzenle\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile-main\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"profile-avatar\",children:[profilePhoto?/*#__PURE__*/_jsx(\"img\",{src:profilePhoto,alt:\"Profil foto\\u011Fraf\\u0131\",className:\"profile-photo\",onError:e=>{e.target.style.display='none';e.target.nextSibling.style.display='block';}},`${user===null||user===void 0?void 0:user.userId}-${Date.now()}-${Math.random()}`):null,/*#__PURE__*/_jsx(\"span\",{role:\"img\",\"aria-label\":\"avatar\",style:{fontSize:64,display:profilePhoto?'none':'block'},children:\"\\uD83D\\uDC64\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile-info\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"profile-name\",children:(user===null||user===void 0?void 0:user.username)||\"Kullanıcı\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile-username\",children:[\"@\",(user===null||user===void 0?void 0:user.username)||\"kullanici\"]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"profile-edit-btn\",onClick:()=>setShowProfileEditModal(true),children:\"Profili D\\xFCzenle\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"profile-tabs\",children:tabs.map(tab=>/*#__PURE__*/_jsx(\"button\",{className:activeTab===tab.key?\"profile-tab active\":\"profile-tab\",onClick:()=>setActiveTab(tab.key),children:tab.label},tab.key))}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile-tab-content\",children:[activeTab===\"profile\"&&/*#__PURE__*/_jsx(\"div\",{children:loadingProfile?/*#__PURE__*/_jsx(\"div\",{style:{textAlign:'center',padding:'20px'},children:/*#__PURE__*/_jsx(\"p\",{children:\"Profil bilgileri y\\xFCkleniyor...\"})}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"h3\",{children:[\"Ho\\u015F geldin, \",(userProfile===null||userProfile===void 0?void 0:userProfile.username)||(user===null||user===void 0?void 0:user.username)||\"Kullanıcı\",\"!\"]}),/*#__PURE__*/_jsx(\"p\",{children:\"Burada profil bilgilerini ve ayarlar\\u0131n\\u0131 g\\xF6rebilirsin.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile-details\",style:{marginTop:20},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"profile-detail-item\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Kullan\\u0131c\\u0131 Ad\\u0131:\"}),\" \",(userProfile===null||userProfile===void 0?void 0:userProfile.username)||(user===null||user===void 0?void 0:user.username)||\"Belirtilmemiş\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile-detail-item\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"E-posta:\"}),\" \",(userProfile===null||userProfile===void 0?void 0:userProfile.email)||(user===null||user===void 0?void 0:user.email)||\"Belirtilmemiş\"]}),(userProfile===null||userProfile===void 0?void 0:userProfile.bio)&&/*#__PURE__*/_jsxs(\"div\",{className:\"profile-detail-item\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Hakk\\u0131mda:\"}),\" \",userProfile.bio]}),(userProfile===null||userProfile===void 0?void 0:userProfile.location)&&/*#__PURE__*/_jsxs(\"div\",{className:\"profile-detail-item\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Konum:\"}),\" \",userProfile.location]}),(userProfile===null||userProfile===void 0?void 0:userProfile.website)&&/*#__PURE__*/_jsxs(\"div\",{className:\"profile-detail-item\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Website:\"}),/*#__PURE__*/_jsx(\"a\",{href:userProfile.website,target:\"_blank\",rel:\"noopener noreferrer\",style:{marginLeft:5,color:'#007bff'},children:userProfile.website})]}),(userProfile===null||userProfile===void 0?void 0:userProfile.phoneNumber)&&/*#__PURE__*/_jsxs(\"div\",{className:\"profile-detail-item\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Telefon:\"}),\" \",userProfile.phoneNumber]}),(userProfile===null||userProfile===void 0?void 0:userProfile.dateOfBirth)&&/*#__PURE__*/_jsxs(\"div\",{className:\"profile-detail-item\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Do\\u011Fum Tarihi:\"}),\" \",new Date(userProfile.dateOfBirth).toLocaleDateString('tr-TR')]}),(userProfile===null||userProfile===void 0?void 0:userProfile.createdAt)&&/*#__PURE__*/_jsxs(\"div\",{className:\"profile-detail-item\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\xDCyelik Tarihi:\"}),\" \",new Date(userProfile.createdAt).toLocaleDateString('tr-TR')]})]})]})}),activeTab===\"favorites\"&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h3\",{children:[\"Favori Tariflerin (\",favoriteRecipes.length,\")\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"recipe-grid\",children:favoriteRecipes.length===0?/*#__PURE__*/_jsx(\"div\",{children:\"Hen\\xFCz favori tarifin yok.\"}):favoriteRecipes.map(r=>/*#__PURE__*/_jsx(RecipeCard,{title:r.recipeName,imageUrl:r.recipeImageUrl,calories:r.calories,prepTime:r.prepTime,ingredients:r.ingredients,recipeInstructions:r.recipeInstructions,isVegetarian:r.isVegetarian,onClick:()=>handleRecipeClick(r),isFavorite:favorites.includes(r.recipeId),onFavoriteClick:()=>onFavoriteClick(r.recipeId),user:user},r.recipeId))})]}),activeTab===\"comments\"&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h3\",{children:[\"Yorumlar\\u0131m (\",userComments.length,\")\"]}),loadingComments?/*#__PURE__*/_jsx(\"p\",{children:\"Yorumlar y\\xFCkleniyor...\"}):userComments.length===0?/*#__PURE__*/_jsx(\"p\",{children:\"Hen\\xFCz yorum yapmad\\u0131n\\u0131z.\"}):/*#__PURE__*/_jsx(\"ul\",{style:{listStyle:\"none\",paddingLeft:0},children:userComments.map(comment=>{const recipe=recipes.find(r=>r.recipeId===comment.recipeId);const recipeName=recipe?recipe.recipeName:\"Tarif silinmiş\";return/*#__PURE__*/_jsxs(\"li\",{style:{marginBottom:12,borderBottom:\"1px solid #ccc\",paddingBottom:8},children:[/*#__PURE__*/_jsx(\"strong\",{children:recipeName}),/*#__PURE__*/_jsx(\"p\",{children:comment.reviewText}),/*#__PURE__*/_jsxs(\"small\",{children:[\"\\u2B50 \",typeof comment.rating===\"number\"?`${comment.rating} / 5`:\"Puan yok\"]}),/*#__PURE__*/_jsxs(\"small\",{style:{display:'block',fontSize:'10px',color:'#999'},children:[\"Debug: Yorum ID=\",comment.reviewId,\", Tarif ID=\",comment.recipeId,\", Bulunan Tarif=\",recipe?recipe.recipeName:'Bulunamadı']})]},comment.reviewId);})})]})]}),showRecipeModal&&selectedRecipe&&/*#__PURE__*/_jsx(RecipeDetailModal,{recipe:selectedRecipe,user:user,onClose:handleCloseModal}),/*#__PURE__*/_jsx(ProfileEditModal,{user:user,userProfile:userProfile,isOpen:showProfileEditModal,onClose:()=>setShowProfileEditModal(false),onPhotoUpdate:handleProfilePhotoUpdate})]});}","map":{"version":3,"names":["React","useState","useEffect","reviewService","userService","getProfilePhotoUrl","RecipeCard","RecipeDetailModal","ProfileEditModal","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","tabs","key","label","ProfilePage","_ref","user","favorites","recipes","onFavoriteClick","onProfileUpdate","activeTab","setActiveTab","userComments","setUserComments","loadingComments","setLoadingComments","selectedRecipe","setSelectedRecipe","showRecipeModal","setShowRecipeModal","showProfileEditModal","setShowProfileEditModal","profilePhoto","setProfilePhoto","userProfile","setUserProfile","loadingProfile","setLoadingProfile","userId","timer","setTimeout","loadUserProfile","loadUserComments","clearTimeout","username","console","log","profileImageBase64","startsWith","photoUrl","uniqueId","Date","now","Math","random","cacheBustUrl","originalUrl","existsResponse","profileExists","data","response","getUserProfile","profileData","expectedUserId","createUserProfile","error","createError","newProfile","email","bio","location","website","dateOfBirth","phoneNumber","getReviews","userReviews","filter","review","handleProfilePhotoUpdate","updatedProfile","updateUserProfile","handleRecipeClick","recipe","handleCloseModal","favoriteRecipes","r","includes","recipeId","className","children","onClick","src","alt","onError","e","target","style","display","nextSibling","role","fontSize","map","tab","textAlign","padding","marginTop","href","rel","marginLeft","color","toLocaleDateString","createdAt","length","title","recipeName","imageUrl","recipeImageUrl","calories","prepTime","ingredients","recipeInstructions","isVegetarian","isFavorite","listStyle","paddingLeft","comment","find","marginBottom","borderBottom","paddingBottom","reviewText","rating","reviewId","onClose","isOpen","onPhotoUpdate"],"sources":["C:/Users/x_user/Desktop/Internship-Project-TarifKapidaFrontend/src/components/Profile/ProfilePage.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport \"./ProfilePage.css\";\r\nimport { reviewService } from \"../../services/reviewService\";\r\nimport { userService } from \"../../services/userService\";\r\n\r\nimport { getProfilePhotoUrl } from \"../../services/api\";\r\nimport RecipeCard from \"../Recipe/RecipeCard\";\r\nimport RecipeDetailModal from \"../Recipe/RecipeDetailModal\";\r\nimport ProfileEditModal from \"./ProfileEditModal\";\r\n\r\nconst tabs = [\r\n  { key: \"profile\", label: \"Profil\" },\r\n  { key: \"favorites\", label: \"Favoriler\" },\r\n  { key: \"comments\", label: \"Yorumlarım\" },\r\n];\r\n\r\nexport default function ProfilePage({ user, favorites, recipes, onFavoriteClick, onProfileUpdate }) {\r\n  const [activeTab, setActiveTab] = useState(\"profile\");\r\n  const [userComments, setUserComments] = useState([]);\r\n  const [loadingComments, setLoadingComments] = useState(false);\r\n  const [selectedRecipe, setSelectedRecipe] = useState(null);\r\n  const [showRecipeModal, setShowRecipeModal] = useState(false);\r\n  const [showProfileEditModal, setShowProfileEditModal] = useState(false);\r\n  const [profilePhoto, setProfilePhoto] = useState(null);\r\n  const [userProfile, setUserProfile] = useState(null);\r\n  const [loadingProfile, setLoadingProfile] = useState(true);\r\n\r\n  useEffect(() => {\r\n    if (user?.userId) {\r\n      // Önceki profil verilerini temizle\r\n      setUserProfile(null);\r\n      setProfilePhoto(null);\r\n      setUserComments([]);\r\n      \r\n      // Kısa bir gecikme ile profil yükle\r\n      const timer = setTimeout(() => {\r\n        loadUserProfile();\r\n        loadUserComments();\r\n      }, 100);\r\n      \r\n      return () => clearTimeout(timer);\r\n    } else {\r\n      // Kullanıcı yoksa profil bilgilerini temizle\r\n      setUserProfile(null);\r\n      setProfilePhoto(null);\r\n      setUserComments([]);\r\n    }\r\n  }, [user?.userId, user?.username]); // Hem userId hem de username değişikliklerini izle\r\n\r\n  useEffect(() => {\r\n    console.log(\"ProfilePage - Profil fotoğrafı ayarlanıyor:\", {\r\n      userProfile: userProfile,\r\n      profileImageBase64: userProfile?.profileImageBase64,\r\n      userId: user?.userId,\r\n      username: user?.username\r\n    });\r\n    \r\n    if (userProfile?.profileImageBase64 && user?.userId) {\r\n      // Base64 formatında ise doğrudan kullan\r\n      if (userProfile.profileImageBase64.startsWith('data:image/')) {\r\n        console.log(\"ProfilePage - Base64 formatında profil fotoğrafı ayarlanıyor\");\r\n        setProfilePhoto(userProfile.profileImageBase64);\r\n      } else {\r\n        // Dosya yolu formatında ise URL oluştur\r\n        const photoUrl = getProfilePhotoUrl(userProfile.profileImageBase64);\r\n        // Benzersiz cache busting\r\n        const uniqueId = `${user.userId}_${Date.now()}_${Math.random()}`;\r\n        const cacheBustUrl = `${photoUrl}?uid=${uniqueId}`;\r\n        console.log(\"ProfilePage - URL formatında profil fotoğrafı ayarlanıyor:\", {\r\n          originalUrl: photoUrl,\r\n          cacheBustUrl: cacheBustUrl,\r\n          userId: user.userId\r\n        });\r\n        setProfilePhoto(cacheBustUrl);\r\n      }\r\n    } else {\r\n      // Profil fotoğrafı yoksa temizle\r\n      console.log(\"ProfilePage - Profil fotoğrafı temizleniyor\");\r\n      setProfilePhoto(null);\r\n    }\r\n  }, [userProfile?.profileImageBase64, user?.userId]);\r\n\r\n  const loadUserProfile = async () => {\r\n    try {\r\n      // Kullanıcı kontrolü\r\n      if (!user?.userId) {\r\n        console.log(\"ProfilePage - Kullanıcı ID yok, profil yükleme iptal edildi\");\r\n        return;\r\n      }\r\n      \r\n      setLoadingProfile(true);\r\n      console.log(\"ProfilePage - Profil yükleniyor, userId:\", user.userId, \"username:\", user.username);\r\n      \r\n      // Profil var mı kontrol et\r\n      const existsResponse = await userService.profileExists(user.userId);\r\n      \r\n      if (existsResponse.data) {\r\n        // Profil varsa getir\r\n        const response = await userService.getUserProfile(user.userId);\r\n        if (response.data) {\r\n          console.log(\"ProfilePage - Profil yüklendi:\", {\r\n            profileData: response.data,\r\n            profileImageBase64: response.data.profileImageBase64,\r\n            userId: response.data.userId,\r\n            expectedUserId: user.userId\r\n          });\r\n          // Kullanıcı kontrolü yap\r\n          if (response.data.userId === user.userId) {\r\n            setUserProfile(response.data);\r\n          } else {\r\n            console.log(\"ProfilePage - Profil userId eşleşmiyor, yeni profil oluşturuluyor\");\r\n            await createUserProfile();\r\n          }\r\n        }\r\n      } else {\r\n        // Profil yoksa oluştur\r\n        console.log(\"ProfilePage - Profil bulunamadı, yeni profil oluşturuluyor\");\r\n        await createUserProfile();\r\n      }\r\n    } catch (error) {\r\n      console.error(\"ProfilePage - Profil yükleme hatası:\", error);\r\n      // Hata durumunda yeni profil oluşturmayı dene\r\n      try {\r\n        await createUserProfile();\r\n      } catch (createError) {\r\n        console.error(\"ProfilePage - Profil oluşturma hatası:\", createError);\r\n      }\r\n    } finally {\r\n      setLoadingProfile(false);\r\n    }\r\n  };\r\n\r\n  // Yeni profil oluştur\r\n  const createUserProfile = async () => {\r\n    try {\r\n             const newProfile = {\r\n         userId: user.userId,\r\n         username: user.username,\r\n         email: user.email,\r\n         profileImageBase64: null,\r\n         bio: null,\r\n         location: null,\r\n         website: null,\r\n         dateOfBirth: null,\r\n         phoneNumber: null\r\n       };\r\n      \r\n      const response = await userService.createUserProfile(newProfile);\r\n      if (response.data) {\r\n        setUserProfile(response.data);\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Profil oluşturma hatası:\", error);\r\n    }\r\n  };\r\n\r\n  // Kullanıcı yorumlarını yükle\r\n  const loadUserComments = async () => {\r\n    try {\r\n      setLoadingComments(true);\r\n      const response = await reviewService.getReviews();\r\n      const userReviews = response.data.filter(review => review.userId === user.userId);\r\n      setUserComments(userReviews);\r\n    } catch (error) {\r\n      console.error(\"Yorumlar yüklenemedi:\", error);\r\n      setUserComments([]);\r\n    } finally {\r\n      setLoadingComments(false);\r\n    }\r\n  };\r\n\r\n  // Profil fotoğrafı güncelleme\r\n  const handleProfilePhotoUpdate = async (photoUrl) => {\r\n    if (userProfile) {\r\n      try {\r\n        const updatedProfile = {\r\n          ...userProfile,\r\n          profileImageBase64: photoUrl // Backend'deki property adına uygun\r\n        };\r\n        \r\n        const response = await userService.updateUserProfile(updatedProfile);\r\n        if (response.data) {\r\n          setUserProfile(response.data);\r\n          // Navbar'ı güncellemek için callback çağır\r\n          if (onProfileUpdate) {\r\n            onProfileUpdate();\r\n          }\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Profil güncelleme hatası:\", error);\r\n      }\r\n    }\r\n  };\r\n\r\n  // Tarif detayı aç\r\n  const handleRecipeClick = (recipe) => {\r\n    setSelectedRecipe(recipe);\r\n    setShowRecipeModal(true);\r\n  };\r\n\r\n  // Modal kapat\r\n  const handleCloseModal = () => {\r\n    setShowRecipeModal(false);\r\n    setSelectedRecipe(null);\r\n  };\r\n\r\n  // Favori tarifleri filtrele\r\n  const favoriteRecipes = recipes.filter((r) => favorites && favorites.includes(r.recipeId));\r\n  \r\n\r\n\r\n  return (\r\n    <div className=\"profile-root\">\r\n      {/* Profil Başlığı */}\r\n      <div className=\"profile-cover\">\r\n        <button className=\"profile-photo-btn\" onClick={() => setShowProfileEditModal(true)}>\r\n          📷 Profili Düzenle\r\n        </button>\r\n      </div>\r\n\r\n      {/* Profil Ana Bilgileri */}\r\n      <div className=\"profile-main\">\r\n        <div className=\"profile-avatar\">\r\n                                           {profilePhoto ? (\r\n              <img \r\n                src={profilePhoto} \r\n                alt=\"Profil fotoğrafı\" \r\n                className=\"profile-photo\"\r\n                key={`${user?.userId}-${Date.now()}-${Math.random()}`}\r\n                onError={(e) => {\r\n                  e.target.style.display = 'none';\r\n                  e.target.nextSibling.style.display = 'block';\r\n                }}\r\n              />\r\n            ) : null}\r\n          <span role=\"img\" aria-label=\"avatar\" style={{ fontSize: 64, display: profilePhoto ? 'none' : 'block' }}>\r\n            👤\r\n          </span>\r\n        </div>\r\n        <div className=\"profile-info\">\r\n          <div className=\"profile-name\">{user?.username || \"Kullanıcı\"}</div>\r\n          <div className=\"profile-username\">@{user?.username || \"kullanici\"}</div>\r\n        </div>\r\n        <button className=\"profile-edit-btn\" onClick={() => setShowProfileEditModal(true)}>\r\n          Profili Düzenle\r\n        </button>\r\n      </div>\r\n\r\n      {/* Tab Menüsü */}\r\n      <div className=\"profile-tabs\">\r\n        {tabs.map((tab) => (\r\n          <button\r\n            key={tab.key}\r\n            className={activeTab === tab.key ? \"profile-tab active\" : \"profile-tab\"}\r\n            onClick={() => setActiveTab(tab.key)}\r\n          >\r\n            {tab.label}\r\n          </button>\r\n        ))}\r\n      </div>\r\n\r\n      {/* Tab İçerikleri */}\r\n      <div className=\"profile-tab-content\">\r\n        {/* Profil Tab */}\r\n        {activeTab === \"profile\" && (\r\n          <div>\r\n            {loadingProfile ? (\r\n              <div style={{ textAlign: 'center', padding: '20px' }}>\r\n                <p>Profil bilgileri yükleniyor...</p>\r\n              </div>\r\n            ) : (\r\n              <>\r\n                <h3>Hoş geldin, {userProfile?.username || user?.username || \"Kullanıcı\"}!</h3>\r\n                <p>Burada profil bilgilerini ve ayarlarını görebilirsin.</p>\r\n                \r\n                <div className=\"profile-details\" style={{ marginTop: 20 }}>\r\n                  <div className=\"profile-detail-item\">\r\n                    <strong>Kullanıcı Adı:</strong> {userProfile?.username || user?.username || \"Belirtilmemiş\"}\r\n                  </div>\r\n                  <div className=\"profile-detail-item\">\r\n                    <strong>E-posta:</strong> {userProfile?.email || user?.email || \"Belirtilmemiş\"}\r\n                  </div>\r\n                  {userProfile?.bio && (\r\n                    <div className=\"profile-detail-item\">\r\n                      <strong>Hakkımda:</strong> {userProfile.bio}\r\n                    </div>\r\n                  )}\r\n                  {userProfile?.location && (\r\n                    <div className=\"profile-detail-item\">\r\n                      <strong>Konum:</strong> {userProfile.location}\r\n                    </div>\r\n                  )}\r\n                  {userProfile?.website && (\r\n                    <div className=\"profile-detail-item\">\r\n                      <strong>Website:</strong> \r\n                      <a href={userProfile.website} target=\"_blank\" rel=\"noopener noreferrer\" style={{ marginLeft: 5, color: '#007bff' }}>\r\n                        {userProfile.website}\r\n                      </a>\r\n                    </div>\r\n                  )}\r\n                  {userProfile?.phoneNumber && (\r\n                    <div className=\"profile-detail-item\">\r\n                      <strong>Telefon:</strong> {userProfile.phoneNumber}\r\n                    </div>\r\n                  )}\r\n                  {userProfile?.dateOfBirth && (\r\n                    <div className=\"profile-detail-item\">\r\n                      <strong>Doğum Tarihi:</strong> {new Date(userProfile.dateOfBirth).toLocaleDateString('tr-TR')}\r\n                    </div>\r\n                  )}\r\n                  {userProfile?.createdAt && (\r\n                    <div className=\"profile-detail-item\">\r\n                      <strong>Üyelik Tarihi:</strong> {new Date(userProfile.createdAt).toLocaleDateString('tr-TR')}\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </>\r\n            )}\r\n          </div>\r\n        )}\r\n\r\n        {/* Favoriler Tab */}\r\n        {activeTab === \"favorites\" && (\r\n          <div>\r\n            <h3>Favori Tariflerin ({favoriteRecipes.length})</h3>\r\n            <div className=\"recipe-grid\">\r\n              {favoriteRecipes.length === 0 ? (\r\n                <div>Henüz favori tarifin yok.</div>\r\n              ) : (\r\n                favoriteRecipes.map((r) => (\r\n                  <RecipeCard\r\n                    key={r.recipeId}\r\n                    title={r.recipeName}\r\n                    imageUrl={r.recipeImageUrl}\r\n                    calories={r.calories}\r\n                    prepTime={r.prepTime}\r\n                    ingredients={r.ingredients}\r\n                    recipeInstructions={r.recipeInstructions}\r\n                    isVegetarian={r.isVegetarian}\r\n                    onClick={() => handleRecipeClick(r)}\r\n                    isFavorite={favorites.includes(r.recipeId)}\r\n                    onFavoriteClick={() => onFavoriteClick(r.recipeId)}\r\n                    user={user}\r\n                  />\r\n                ))\r\n              )}\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Yorumlar Tab */}\r\n        {activeTab === \"comments\" && (\r\n          <div>\r\n            <h3>Yorumlarım ({userComments.length})</h3>\r\n            {loadingComments ? (\r\n              <p>Yorumlar yükleniyor...</p>\r\n            ) : userComments.length === 0 ? (\r\n              <p>Henüz yorum yapmadınız.</p>\r\n            ) : (\r\n                             <ul style={{ listStyle: \"none\", paddingLeft: 0 }}>\r\n                 {userComments.map((comment) => {\r\n                   const recipe = recipes.find((r) => r.recipeId === comment.recipeId);\r\n                   const recipeName = recipe ? recipe.recipeName : \"Tarif silinmiş\";\r\n\r\n                   return (\r\n                     <li\r\n                       key={comment.reviewId}\r\n                       style={{ marginBottom: 12, borderBottom: \"1px solid #ccc\", paddingBottom: 8 }}\r\n                     >\r\n                       <strong>{recipeName}</strong>\r\n                       <p>{comment.reviewText}</p>\r\n                       <small>⭐ {typeof comment.rating === \"number\" ? `${comment.rating} / 5` : \"Puan yok\"}</small>\r\n                       <small style={{ display: 'block', fontSize: '10px', color: '#999' }}>\r\n                         Debug: Yorum ID={comment.reviewId}, Tarif ID={comment.recipeId}, Bulunan Tarif={recipe ? recipe.recipeName : 'Bulunamadı'}\r\n                       </small>\r\n                     </li>\r\n                   );\r\n                 })}\r\n               </ul>\r\n            )}\r\n          </div>\r\n        )}\r\n      </div>\r\n      \r\n      {/* Modaller */}\r\n      {showRecipeModal && selectedRecipe && (\r\n        <RecipeDetailModal\r\n          recipe={selectedRecipe}\r\n          user={user}\r\n          onClose={handleCloseModal}\r\n        />\r\n      )}\r\n\r\n      <ProfileEditModal\r\n        user={user}\r\n        userProfile={userProfile}\r\n        isOpen={showProfileEditModal}\r\n        onClose={() => setShowProfileEditModal(false)}\r\n        onPhotoUpdate={handleProfilePhotoUpdate}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,mBAAmB,CAC1B,OAASC,aAAa,KAAQ,8BAA8B,CAC5D,OAASC,WAAW,KAAQ,4BAA4B,CAExD,OAASC,kBAAkB,KAAQ,oBAAoB,CACvD,MAAO,CAAAC,UAAU,KAAM,sBAAsB,CAC7C,MAAO,CAAAC,iBAAiB,KAAM,6BAA6B,CAC3D,MAAO,CAAAC,gBAAgB,KAAM,oBAAoB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAElD,KAAM,CAAAC,IAAI,CAAG,CACX,CAAEC,GAAG,CAAE,SAAS,CAAEC,KAAK,CAAE,QAAS,CAAC,CACnC,CAAED,GAAG,CAAE,WAAW,CAAEC,KAAK,CAAE,WAAY,CAAC,CACxC,CAAED,GAAG,CAAE,UAAU,CAAEC,KAAK,CAAE,YAAa,CAAC,CACzC,CAED,cAAe,SAAS,CAAAC,WAAWA,CAAAC,IAAA,CAAiE,IAAhE,CAAEC,IAAI,CAAEC,SAAS,CAAEC,OAAO,CAAEC,eAAe,CAAEC,eAAgB,CAAC,CAAAL,IAAA,CAChG,KAAM,CAACM,SAAS,CAAEC,YAAY,CAAC,CAAGzB,QAAQ,CAAC,SAAS,CAAC,CACrD,KAAM,CAAC0B,YAAY,CAAEC,eAAe,CAAC,CAAG3B,QAAQ,CAAC,EAAE,CAAC,CACpD,KAAM,CAAC4B,eAAe,CAAEC,kBAAkB,CAAC,CAAG7B,QAAQ,CAAC,KAAK,CAAC,CAC7D,KAAM,CAAC8B,cAAc,CAAEC,iBAAiB,CAAC,CAAG/B,QAAQ,CAAC,IAAI,CAAC,CAC1D,KAAM,CAACgC,eAAe,CAAEC,kBAAkB,CAAC,CAAGjC,QAAQ,CAAC,KAAK,CAAC,CAC7D,KAAM,CAACkC,oBAAoB,CAAEC,uBAAuB,CAAC,CAAGnC,QAAQ,CAAC,KAAK,CAAC,CACvE,KAAM,CAACoC,YAAY,CAAEC,eAAe,CAAC,CAAGrC,QAAQ,CAAC,IAAI,CAAC,CACtD,KAAM,CAACsC,WAAW,CAAEC,cAAc,CAAC,CAAGvC,QAAQ,CAAC,IAAI,CAAC,CACpD,KAAM,CAACwC,cAAc,CAAEC,iBAAiB,CAAC,CAAGzC,QAAQ,CAAC,IAAI,CAAC,CAE1DC,SAAS,CAAC,IAAM,CACd,GAAIkB,IAAI,SAAJA,IAAI,WAAJA,IAAI,CAAEuB,MAAM,CAAE,CAChB;AACAH,cAAc,CAAC,IAAI,CAAC,CACpBF,eAAe,CAAC,IAAI,CAAC,CACrBV,eAAe,CAAC,EAAE,CAAC,CAEnB;AACA,KAAM,CAAAgB,KAAK,CAAGC,UAAU,CAAC,IAAM,CAC7BC,eAAe,CAAC,CAAC,CACjBC,gBAAgB,CAAC,CAAC,CACpB,CAAC,CAAE,GAAG,CAAC,CAEP,MAAO,IAAMC,YAAY,CAACJ,KAAK,CAAC,CAClC,CAAC,IAAM,CACL;AACAJ,cAAc,CAAC,IAAI,CAAC,CACpBF,eAAe,CAAC,IAAI,CAAC,CACrBV,eAAe,CAAC,EAAE,CAAC,CACrB,CACF,CAAC,CAAE,CAACR,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEuB,MAAM,CAAEvB,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAE6B,QAAQ,CAAC,CAAC,CAAE;AAEpC/C,SAAS,CAAC,IAAM,CACdgD,OAAO,CAACC,GAAG,CAAC,6CAA6C,CAAE,CACzDZ,WAAW,CAAEA,WAAW,CACxBa,kBAAkB,CAAEb,WAAW,SAAXA,WAAW,iBAAXA,WAAW,CAAEa,kBAAkB,CACnDT,MAAM,CAAEvB,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEuB,MAAM,CACpBM,QAAQ,CAAE7B,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAE6B,QAClB,CAAC,CAAC,CAEF,GAAIV,WAAW,SAAXA,WAAW,WAAXA,WAAW,CAAEa,kBAAkB,EAAIhC,IAAI,SAAJA,IAAI,WAAJA,IAAI,CAAEuB,MAAM,CAAE,CACnD;AACA,GAAIJ,WAAW,CAACa,kBAAkB,CAACC,UAAU,CAAC,aAAa,CAAC,CAAE,CAC5DH,OAAO,CAACC,GAAG,CAAC,8DAA8D,CAAC,CAC3Eb,eAAe,CAACC,WAAW,CAACa,kBAAkB,CAAC,CACjD,CAAC,IAAM,CACL;AACA,KAAM,CAAAE,QAAQ,CAAGjD,kBAAkB,CAACkC,WAAW,CAACa,kBAAkB,CAAC,CACnE;AACA,KAAM,CAAAG,QAAQ,CAAG,GAAGnC,IAAI,CAACuB,MAAM,IAAIa,IAAI,CAACC,GAAG,CAAC,CAAC,IAAIC,IAAI,CAACC,MAAM,CAAC,CAAC,EAAE,CAChE,KAAM,CAAAC,YAAY,CAAG,GAAGN,QAAQ,QAAQC,QAAQ,EAAE,CAClDL,OAAO,CAACC,GAAG,CAAC,4DAA4D,CAAE,CACxEU,WAAW,CAAEP,QAAQ,CACrBM,YAAY,CAAEA,YAAY,CAC1BjB,MAAM,CAAEvB,IAAI,CAACuB,MACf,CAAC,CAAC,CACFL,eAAe,CAACsB,YAAY,CAAC,CAC/B,CACF,CAAC,IAAM,CACL;AACAV,OAAO,CAACC,GAAG,CAAC,6CAA6C,CAAC,CAC1Db,eAAe,CAAC,IAAI,CAAC,CACvB,CACF,CAAC,CAAE,CAACC,WAAW,SAAXA,WAAW,iBAAXA,WAAW,CAAEa,kBAAkB,CAAEhC,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEuB,MAAM,CAAC,CAAC,CAEnD,KAAM,CAAAG,eAAe,CAAG,KAAAA,CAAA,GAAY,CAClC,GAAI,CACF;AACA,GAAI,EAAC1B,IAAI,SAAJA,IAAI,WAAJA,IAAI,CAAEuB,MAAM,EAAE,CACjBO,OAAO,CAACC,GAAG,CAAC,6DAA6D,CAAC,CAC1E,OACF,CAEAT,iBAAiB,CAAC,IAAI,CAAC,CACvBQ,OAAO,CAACC,GAAG,CAAC,0CAA0C,CAAE/B,IAAI,CAACuB,MAAM,CAAE,WAAW,CAAEvB,IAAI,CAAC6B,QAAQ,CAAC,CAEhG;AACA,KAAM,CAAAa,cAAc,CAAG,KAAM,CAAA1D,WAAW,CAAC2D,aAAa,CAAC3C,IAAI,CAACuB,MAAM,CAAC,CAEnE,GAAImB,cAAc,CAACE,IAAI,CAAE,CACvB;AACA,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAA7D,WAAW,CAAC8D,cAAc,CAAC9C,IAAI,CAACuB,MAAM,CAAC,CAC9D,GAAIsB,QAAQ,CAACD,IAAI,CAAE,CACjBd,OAAO,CAACC,GAAG,CAAC,gCAAgC,CAAE,CAC5CgB,WAAW,CAAEF,QAAQ,CAACD,IAAI,CAC1BZ,kBAAkB,CAAEa,QAAQ,CAACD,IAAI,CAACZ,kBAAkB,CACpDT,MAAM,CAAEsB,QAAQ,CAACD,IAAI,CAACrB,MAAM,CAC5ByB,cAAc,CAAEhD,IAAI,CAACuB,MACvB,CAAC,CAAC,CACF;AACA,GAAIsB,QAAQ,CAACD,IAAI,CAACrB,MAAM,GAAKvB,IAAI,CAACuB,MAAM,CAAE,CACxCH,cAAc,CAACyB,QAAQ,CAACD,IAAI,CAAC,CAC/B,CAAC,IAAM,CACLd,OAAO,CAACC,GAAG,CAAC,mEAAmE,CAAC,CAChF,KAAM,CAAAkB,iBAAiB,CAAC,CAAC,CAC3B,CACF,CACF,CAAC,IAAM,CACL;AACAnB,OAAO,CAACC,GAAG,CAAC,4DAA4D,CAAC,CACzE,KAAM,CAAAkB,iBAAiB,CAAC,CAAC,CAC3B,CACF,CAAE,MAAOC,KAAK,CAAE,CACdpB,OAAO,CAACoB,KAAK,CAAC,sCAAsC,CAAEA,KAAK,CAAC,CAC5D;AACA,GAAI,CACF,KAAM,CAAAD,iBAAiB,CAAC,CAAC,CAC3B,CAAE,MAAOE,WAAW,CAAE,CACpBrB,OAAO,CAACoB,KAAK,CAAC,wCAAwC,CAAEC,WAAW,CAAC,CACtE,CACF,CAAC,OAAS,CACR7B,iBAAiB,CAAC,KAAK,CAAC,CAC1B,CACF,CAAC,CAED;AACA,KAAM,CAAA2B,iBAAiB,CAAG,KAAAA,CAAA,GAAY,CACpC,GAAI,CACK,KAAM,CAAAG,UAAU,CAAG,CACvB7B,MAAM,CAAEvB,IAAI,CAACuB,MAAM,CACnBM,QAAQ,CAAE7B,IAAI,CAAC6B,QAAQ,CACvBwB,KAAK,CAAErD,IAAI,CAACqD,KAAK,CACjBrB,kBAAkB,CAAE,IAAI,CACxBsB,GAAG,CAAE,IAAI,CACTC,QAAQ,CAAE,IAAI,CACdC,OAAO,CAAE,IAAI,CACbC,WAAW,CAAE,IAAI,CACjBC,WAAW,CAAE,IACf,CAAC,CAEF,KAAM,CAAAb,QAAQ,CAAG,KAAM,CAAA7D,WAAW,CAACiE,iBAAiB,CAACG,UAAU,CAAC,CAChE,GAAIP,QAAQ,CAACD,IAAI,CAAE,CACjBxB,cAAc,CAACyB,QAAQ,CAACD,IAAI,CAAC,CAC/B,CACF,CAAE,MAAOM,KAAK,CAAE,CACdpB,OAAO,CAACoB,KAAK,CAAC,0BAA0B,CAAEA,KAAK,CAAC,CAClD,CACF,CAAC,CAED;AACA,KAAM,CAAAvB,gBAAgB,CAAG,KAAAA,CAAA,GAAY,CACnC,GAAI,CACFjB,kBAAkB,CAAC,IAAI,CAAC,CACxB,KAAM,CAAAmC,QAAQ,CAAG,KAAM,CAAA9D,aAAa,CAAC4E,UAAU,CAAC,CAAC,CACjD,KAAM,CAAAC,WAAW,CAAGf,QAAQ,CAACD,IAAI,CAACiB,MAAM,CAACC,MAAM,EAAIA,MAAM,CAACvC,MAAM,GAAKvB,IAAI,CAACuB,MAAM,CAAC,CACjFf,eAAe,CAACoD,WAAW,CAAC,CAC9B,CAAE,MAAOV,KAAK,CAAE,CACdpB,OAAO,CAACoB,KAAK,CAAC,uBAAuB,CAAEA,KAAK,CAAC,CAC7C1C,eAAe,CAAC,EAAE,CAAC,CACrB,CAAC,OAAS,CACRE,kBAAkB,CAAC,KAAK,CAAC,CAC3B,CACF,CAAC,CAED;AACA,KAAM,CAAAqD,wBAAwB,CAAG,KAAO,CAAA7B,QAAQ,EAAK,CACnD,GAAIf,WAAW,CAAE,CACf,GAAI,CACF,KAAM,CAAA6C,cAAc,CAAG,CACrB,GAAG7C,WAAW,CACda,kBAAkB,CAAEE,QAAS;AAC/B,CAAC,CAED,KAAM,CAAAW,QAAQ,CAAG,KAAM,CAAA7D,WAAW,CAACiF,iBAAiB,CAACD,cAAc,CAAC,CACpE,GAAInB,QAAQ,CAACD,IAAI,CAAE,CACjBxB,cAAc,CAACyB,QAAQ,CAACD,IAAI,CAAC,CAC7B;AACA,GAAIxC,eAAe,CAAE,CACnBA,eAAe,CAAC,CAAC,CACnB,CACF,CACF,CAAE,MAAO8C,KAAK,CAAE,CACdpB,OAAO,CAACoB,KAAK,CAAC,2BAA2B,CAAEA,KAAK,CAAC,CACnD,CACF,CACF,CAAC,CAED;AACA,KAAM,CAAAgB,iBAAiB,CAAIC,MAAM,EAAK,CACpCvD,iBAAiB,CAACuD,MAAM,CAAC,CACzBrD,kBAAkB,CAAC,IAAI,CAAC,CAC1B,CAAC,CAED;AACA,KAAM,CAAAsD,gBAAgB,CAAGA,CAAA,GAAM,CAC7BtD,kBAAkB,CAAC,KAAK,CAAC,CACzBF,iBAAiB,CAAC,IAAI,CAAC,CACzB,CAAC,CAED;AACA,KAAM,CAAAyD,eAAe,CAAGnE,OAAO,CAAC2D,MAAM,CAAES,CAAC,EAAKrE,SAAS,EAAIA,SAAS,CAACsE,QAAQ,CAACD,CAAC,CAACE,QAAQ,CAAC,CAAC,CAI1F,mBACEhF,KAAA,QAAKiF,SAAS,CAAC,cAAc,CAAAC,QAAA,eAE3BpF,IAAA,QAAKmF,SAAS,CAAC,eAAe,CAAAC,QAAA,cAC5BpF,IAAA,WAAQmF,SAAS,CAAC,mBAAmB,CAACE,OAAO,CAAEA,CAAA,GAAM3D,uBAAuB,CAAC,IAAI,CAAE,CAAA0D,QAAA,CAAC,iCAEpF,CAAQ,CAAC,CACN,CAAC,cAGNlF,KAAA,QAAKiF,SAAS,CAAC,cAAc,CAAAC,QAAA,eAC3BlF,KAAA,QAAKiF,SAAS,CAAC,gBAAgB,CAAAC,QAAA,EACKzD,YAAY,cAC1C3B,IAAA,QACEsF,GAAG,CAAE3D,YAAa,CAClB4D,GAAG,CAAC,4BAAkB,CACtBJ,SAAS,CAAC,eAAe,CAEzBK,OAAO,CAAGC,CAAC,EAAK,CACdA,CAAC,CAACC,MAAM,CAACC,KAAK,CAACC,OAAO,CAAG,MAAM,CAC/BH,CAAC,CAACC,MAAM,CAACG,WAAW,CAACF,KAAK,CAACC,OAAO,CAAG,OAAO,CAC9C,CAAE,EAJG,GAAGlF,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEuB,MAAM,IAAIa,IAAI,CAACC,GAAG,CAAC,CAAC,IAAIC,IAAI,CAACC,MAAM,CAAC,CAAC,EAKpD,CAAC,CACA,IAAI,cACVjD,IAAA,SAAM8F,IAAI,CAAC,KAAK,CAAC,aAAW,QAAQ,CAACH,KAAK,CAAE,CAAEI,QAAQ,CAAE,EAAE,CAAEH,OAAO,CAAEjE,YAAY,CAAG,MAAM,CAAG,OAAQ,CAAE,CAAAyD,QAAA,CAAC,cAExG,CAAM,CAAC,EACJ,CAAC,cACNlF,KAAA,QAAKiF,SAAS,CAAC,cAAc,CAAAC,QAAA,eAC3BpF,IAAA,QAAKmF,SAAS,CAAC,cAAc,CAAAC,QAAA,CAAE,CAAA1E,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAE6B,QAAQ,GAAI,WAAW,CAAM,CAAC,cACnErC,KAAA,QAAKiF,SAAS,CAAC,kBAAkB,CAAAC,QAAA,EAAC,GAAC,CAAC,CAAA1E,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAE6B,QAAQ,GAAI,WAAW,EAAM,CAAC,EACrE,CAAC,cACNvC,IAAA,WAAQmF,SAAS,CAAC,kBAAkB,CAACE,OAAO,CAAEA,CAAA,GAAM3D,uBAAuB,CAAC,IAAI,CAAE,CAAA0D,QAAA,CAAC,oBAEnF,CAAQ,CAAC,EACN,CAAC,cAGNpF,IAAA,QAAKmF,SAAS,CAAC,cAAc,CAAAC,QAAA,CAC1B/E,IAAI,CAAC2F,GAAG,CAAEC,GAAG,eACZjG,IAAA,WAEEmF,SAAS,CAAEpE,SAAS,GAAKkF,GAAG,CAAC3F,GAAG,CAAG,oBAAoB,CAAG,aAAc,CACxE+E,OAAO,CAAEA,CAAA,GAAMrE,YAAY,CAACiF,GAAG,CAAC3F,GAAG,CAAE,CAAA8E,QAAA,CAEpCa,GAAG,CAAC1F,KAAK,EAJL0F,GAAG,CAAC3F,GAKH,CACT,CAAC,CACC,CAAC,cAGNJ,KAAA,QAAKiF,SAAS,CAAC,qBAAqB,CAAAC,QAAA,EAEjCrE,SAAS,GAAK,SAAS,eACtBf,IAAA,QAAAoF,QAAA,CACGrD,cAAc,cACb/B,IAAA,QAAK2F,KAAK,CAAE,CAAEO,SAAS,CAAE,QAAQ,CAAEC,OAAO,CAAE,MAAO,CAAE,CAAAf,QAAA,cACnDpF,IAAA,MAAAoF,QAAA,CAAG,mCAA8B,CAAG,CAAC,CAClC,CAAC,cAENlF,KAAA,CAAAE,SAAA,EAAAgF,QAAA,eACElF,KAAA,OAAAkF,QAAA,EAAI,mBAAY,CAAC,CAAAvD,WAAW,SAAXA,WAAW,iBAAXA,WAAW,CAAEU,QAAQ,IAAI7B,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAE6B,QAAQ,GAAI,WAAW,CAAC,GAAC,EAAI,CAAC,cAC9EvC,IAAA,MAAAoF,QAAA,CAAG,oEAAqD,CAAG,CAAC,cAE5DlF,KAAA,QAAKiF,SAAS,CAAC,iBAAiB,CAACQ,KAAK,CAAE,CAAES,SAAS,CAAE,EAAG,CAAE,CAAAhB,QAAA,eACxDlF,KAAA,QAAKiF,SAAS,CAAC,qBAAqB,CAAAC,QAAA,eAClCpF,IAAA,WAAAoF,QAAA,CAAQ,+BAAc,CAAQ,CAAC,IAAC,CAAC,CAAAvD,WAAW,SAAXA,WAAW,iBAAXA,WAAW,CAAEU,QAAQ,IAAI7B,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAE6B,QAAQ,GAAI,eAAe,EACxF,CAAC,cACNrC,KAAA,QAAKiF,SAAS,CAAC,qBAAqB,CAAAC,QAAA,eAClCpF,IAAA,WAAAoF,QAAA,CAAQ,UAAQ,CAAQ,CAAC,IAAC,CAAC,CAAAvD,WAAW,SAAXA,WAAW,iBAAXA,WAAW,CAAEkC,KAAK,IAAIrD,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEqD,KAAK,GAAI,eAAe,EAC5E,CAAC,CACL,CAAAlC,WAAW,SAAXA,WAAW,iBAAXA,WAAW,CAAEmC,GAAG,gBACf9D,KAAA,QAAKiF,SAAS,CAAC,qBAAqB,CAAAC,QAAA,eAClCpF,IAAA,WAAAoF,QAAA,CAAQ,gBAAS,CAAQ,CAAC,IAAC,CAACvD,WAAW,CAACmC,GAAG,EACxC,CACN,CACA,CAAAnC,WAAW,SAAXA,WAAW,iBAAXA,WAAW,CAAEoC,QAAQ,gBACpB/D,KAAA,QAAKiF,SAAS,CAAC,qBAAqB,CAAAC,QAAA,eAClCpF,IAAA,WAAAoF,QAAA,CAAQ,QAAM,CAAQ,CAAC,IAAC,CAACvD,WAAW,CAACoC,QAAQ,EAC1C,CACN,CACA,CAAApC,WAAW,SAAXA,WAAW,iBAAXA,WAAW,CAAEqC,OAAO,gBACnBhE,KAAA,QAAKiF,SAAS,CAAC,qBAAqB,CAAAC,QAAA,eAClCpF,IAAA,WAAAoF,QAAA,CAAQ,UAAQ,CAAQ,CAAC,cACzBpF,IAAA,MAAGqG,IAAI,CAAExE,WAAW,CAACqC,OAAQ,CAACwB,MAAM,CAAC,QAAQ,CAACY,GAAG,CAAC,qBAAqB,CAACX,KAAK,CAAE,CAAEY,UAAU,CAAE,CAAC,CAAEC,KAAK,CAAE,SAAU,CAAE,CAAApB,QAAA,CAChHvD,WAAW,CAACqC,OAAO,CACnB,CAAC,EACD,CACN,CACA,CAAArC,WAAW,SAAXA,WAAW,iBAAXA,WAAW,CAAEuC,WAAW,gBACvBlE,KAAA,QAAKiF,SAAS,CAAC,qBAAqB,CAAAC,QAAA,eAClCpF,IAAA,WAAAoF,QAAA,CAAQ,UAAQ,CAAQ,CAAC,IAAC,CAACvD,WAAW,CAACuC,WAAW,EAC/C,CACN,CACA,CAAAvC,WAAW,SAAXA,WAAW,iBAAXA,WAAW,CAAEsC,WAAW,gBACvBjE,KAAA,QAAKiF,SAAS,CAAC,qBAAqB,CAAAC,QAAA,eAClCpF,IAAA,WAAAoF,QAAA,CAAQ,oBAAa,CAAQ,CAAC,IAAC,CAAC,GAAI,CAAAtC,IAAI,CAACjB,WAAW,CAACsC,WAAW,CAAC,CAACsC,kBAAkB,CAAC,OAAO,CAAC,EAC1F,CACN,CACA,CAAA5E,WAAW,SAAXA,WAAW,iBAAXA,WAAW,CAAE6E,SAAS,gBACrBxG,KAAA,QAAKiF,SAAS,CAAC,qBAAqB,CAAAC,QAAA,eAClCpF,IAAA,WAAAoF,QAAA,CAAQ,mBAAc,CAAQ,CAAC,IAAC,CAAC,GAAI,CAAAtC,IAAI,CAACjB,WAAW,CAAC6E,SAAS,CAAC,CAACD,kBAAkB,CAAC,OAAO,CAAC,EACzF,CACN,EACE,CAAC,EACN,CACH,CACE,CACN,CAGA1F,SAAS,GAAK,WAAW,eACxBb,KAAA,QAAAkF,QAAA,eACElF,KAAA,OAAAkF,QAAA,EAAI,qBAAmB,CAACL,eAAe,CAAC4B,MAAM,CAAC,GAAC,EAAI,CAAC,cACrD3G,IAAA,QAAKmF,SAAS,CAAC,aAAa,CAAAC,QAAA,CACzBL,eAAe,CAAC4B,MAAM,GAAK,CAAC,cAC3B3G,IAAA,QAAAoF,QAAA,CAAK,8BAAyB,CAAK,CAAC,CAEpCL,eAAe,CAACiB,GAAG,CAAEhB,CAAC,eACpBhF,IAAA,CAACJ,UAAU,EAETgH,KAAK,CAAE5B,CAAC,CAAC6B,UAAW,CACpBC,QAAQ,CAAE9B,CAAC,CAAC+B,cAAe,CAC3BC,QAAQ,CAAEhC,CAAC,CAACgC,QAAS,CACrBC,QAAQ,CAAEjC,CAAC,CAACiC,QAAS,CACrBC,WAAW,CAAElC,CAAC,CAACkC,WAAY,CAC3BC,kBAAkB,CAAEnC,CAAC,CAACmC,kBAAmB,CACzCC,YAAY,CAAEpC,CAAC,CAACoC,YAAa,CAC7B/B,OAAO,CAAEA,CAAA,GAAMT,iBAAiB,CAACI,CAAC,CAAE,CACpCqC,UAAU,CAAE1G,SAAS,CAACsE,QAAQ,CAACD,CAAC,CAACE,QAAQ,CAAE,CAC3CrE,eAAe,CAAEA,CAAA,GAAMA,eAAe,CAACmE,CAAC,CAACE,QAAQ,CAAE,CACnDxE,IAAI,CAAEA,IAAK,EAXNsE,CAAC,CAACE,QAYR,CACF,CACF,CACE,CAAC,EACH,CACN,CAGAnE,SAAS,GAAK,UAAU,eACvBb,KAAA,QAAAkF,QAAA,eACElF,KAAA,OAAAkF,QAAA,EAAI,mBAAY,CAACnE,YAAY,CAAC0F,MAAM,CAAC,GAAC,EAAI,CAAC,CAC1CxF,eAAe,cACdnB,IAAA,MAAAoF,QAAA,CAAG,2BAAsB,CAAG,CAAC,CAC3BnE,YAAY,CAAC0F,MAAM,GAAK,CAAC,cAC3B3G,IAAA,MAAAoF,QAAA,CAAG,sCAAuB,CAAG,CAAC,cAEfpF,IAAA,OAAI2F,KAAK,CAAE,CAAE2B,SAAS,CAAE,MAAM,CAAEC,WAAW,CAAE,CAAE,CAAE,CAAAnC,QAAA,CAC5DnE,YAAY,CAAC+E,GAAG,CAAEwB,OAAO,EAAK,CAC7B,KAAM,CAAA3C,MAAM,CAAGjE,OAAO,CAAC6G,IAAI,CAAEzC,CAAC,EAAKA,CAAC,CAACE,QAAQ,GAAKsC,OAAO,CAACtC,QAAQ,CAAC,CACnE,KAAM,CAAA2B,UAAU,CAAGhC,MAAM,CAAGA,MAAM,CAACgC,UAAU,CAAG,gBAAgB,CAEhE,mBACE3G,KAAA,OAEEyF,KAAK,CAAE,CAAE+B,YAAY,CAAE,EAAE,CAAEC,YAAY,CAAE,gBAAgB,CAAEC,aAAa,CAAE,CAAE,CAAE,CAAAxC,QAAA,eAE9EpF,IAAA,WAAAoF,QAAA,CAASyB,UAAU,CAAS,CAAC,cAC7B7G,IAAA,MAAAoF,QAAA,CAAIoC,OAAO,CAACK,UAAU,CAAI,CAAC,cAC3B3H,KAAA,UAAAkF,QAAA,EAAO,SAAE,CAAC,MAAO,CAAAoC,OAAO,CAACM,MAAM,GAAK,QAAQ,CAAG,GAAGN,OAAO,CAACM,MAAM,MAAM,CAAG,UAAU,EAAQ,CAAC,cAC5F5H,KAAA,UAAOyF,KAAK,CAAE,CAAEC,OAAO,CAAE,OAAO,CAAEG,QAAQ,CAAE,MAAM,CAAES,KAAK,CAAE,MAAO,CAAE,CAAApB,QAAA,EAAC,kBACnD,CAACoC,OAAO,CAACO,QAAQ,CAAC,aAAW,CAACP,OAAO,CAACtC,QAAQ,CAAC,kBAAgB,CAACL,MAAM,CAAGA,MAAM,CAACgC,UAAU,CAAG,YAAY,EACpH,CAAC,GARHW,OAAO,CAACO,QASX,CAAC,CAET,CAAC,CAAC,CACA,CACN,EACE,CACN,EACE,CAAC,CAGLxG,eAAe,EAAIF,cAAc,eAChCrB,IAAA,CAACH,iBAAiB,EAChBgF,MAAM,CAAExD,cAAe,CACvBX,IAAI,CAAEA,IAAK,CACXsH,OAAO,CAAElD,gBAAiB,CAC3B,CACF,cAED9E,IAAA,CAACF,gBAAgB,EACfY,IAAI,CAAEA,IAAK,CACXmB,WAAW,CAAEA,WAAY,CACzBoG,MAAM,CAAExG,oBAAqB,CAC7BuG,OAAO,CAAEA,CAAA,GAAMtG,uBAAuB,CAAC,KAAK,CAAE,CAC9CwG,aAAa,CAAEzD,wBAAyB,CACzC,CAAC,EACC,CAAC,CAEV","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}