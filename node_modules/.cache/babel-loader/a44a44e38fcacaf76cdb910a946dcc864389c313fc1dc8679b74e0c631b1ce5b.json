{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\x_user\\\\Desktop\\\\Internship-Project-TarifKapidaFrontend\\\\src\\\\components\\\\Profile\\\\ProfileEditModal.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport \"./ProfileEditModal.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ProfileEditModal = ({\n  user,\n  onClose,\n  onSave\n}) => {\n  _s();\n  const [bio, setBio] = useState(\"\");\n  const [location, setLocation] = useState(\"\");\n  const [error, setError] = useState(\"\");\n  const API_BASE_URL = localStorage.getItem(\"API_BASE_URL\") || \"http://localhost:5043\";\n  useEffect(() => {\n    if (user !== null && user !== void 0 && user.userId) {\n      axios.get(`${API_BASE_URL}/api/User/GetUserProfile/${user.userId}`).then(res => {\n        const profile = res.data;\n        setBio(profile.bio || \"\");\n        setLocation(profile.location || \"\");\n      }).catch(err => {\n        console.error(\"Profil bilgisi yüklenemedi:\", err);\n        setError(\"Profil bilgisi yüklenemedi.\");\n      });\n    }\n  }, [user === null || user === void 0 ? void 0 : user.userId]);\n  const handleSave = async () => {\n    try {\n      await axios.put(`${API_BASE_URL}/api/User/UpdateUserProfile/${user.userId}`, {\n        bio,\n        location\n      });\n      onSave(); // Profil güncellendi bilgisini üst componente ilet\n      onClose(); // Modal'ı kapat\n    } catch (err) {\n      console.error(\"Profil güncellenemedi:\", err);\n      setError(\"Profil güncellenemedi.\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"modal-overlay\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-content\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Profili D\\xFCzenle\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        placeholder: \"Biyografi\",\n        value: bio,\n        onChange: e => setBio(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Konum\",\n        value: location,\n        onChange: e => setLocation(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"error-message\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 19\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-actions\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleSave,\n          children: \"Kaydet\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onClose,\n          children: \"\\u0130ptal\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 5\n  }, this);\n};\n_s(ProfileEditModal, \"o5R+UynNENDeLAsWWFcqtamnjfY=\");\n_c = ProfileEditModal;\nexport default ProfileEditModal;\nvar _c;\n$RefreshReg$(_c, \"ProfileEditModal\");","map":{"version":3,"names":["React","useState","useEffect","axios","jsxDEV","_jsxDEV","ProfileEditModal","user","onClose","onSave","_s","bio","setBio","location","setLocation","error","setError","API_BASE_URL","localStorage","getItem","userId","get","then","res","profile","data","catch","err","console","handleSave","put","className","children","fileName","_jsxFileName","lineNumber","columnNumber","placeholder","value","onChange","e","target","type","onClick","_c","$RefreshReg$"],"sources":["C:/Users/x_user/Desktop/Internship-Project-TarifKapidaFrontend/src/components/Profile/ProfileEditModal.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport \"./ProfileEditModal.css\";\r\n\r\nconst ProfileEditModal = ({ user, onClose, onSave }) => {\r\n  const [bio, setBio] = useState(\"\");\r\n  const [location, setLocation] = useState(\"\");\r\n  const [error, setError] = useState(\"\");\r\n\r\n  const API_BASE_URL = localStorage.getItem(\"API_BASE_URL\") || \"http://localhost:5043\";\r\n\r\n  useEffect(() => {\r\n    if (user?.userId) {\r\n      axios\r\n        .get(`${API_BASE_URL}/api/User/GetUserProfile/${user.userId}`)\r\n        .then((res) => {\r\n          const profile = res.data;\r\n          setBio(profile.bio || \"\");\r\n          setLocation(profile.location || \"\");\r\n        })\r\n        .catch((err) => {\r\n          console.error(\"Profil bilgisi yüklenemedi:\", err);\r\n          setError(\"Profil bilgisi yüklenemedi.\");\r\n        });\r\n    }\r\n  }, [user?.userId]);\r\n\r\n  const handleSave = async () => {\r\n    try {\r\n      await axios.put(`${API_BASE_URL}/api/User/UpdateUserProfile/${user.userId}`, {\r\n        bio,\r\n        location,\r\n      });\r\n      onSave();  // Profil güncellendi bilgisini üst componente ilet\r\n      onClose(); // Modal'ı kapat\r\n    } catch (err) {\r\n      console.error(\"Profil güncellenemedi:\", err);\r\n      setError(\"Profil güncellenemedi.\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"modal-overlay\">\r\n      <div className=\"modal-content\">\r\n        <h2>Profili Düzenle</h2>\r\n        <textarea\r\n          placeholder=\"Biyografi\"\r\n          value={bio}\r\n          onChange={(e) => setBio(e.target.value)}\r\n        />\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Konum\"\r\n          value={location}\r\n          onChange={(e) => setLocation(e.target.value)}\r\n        />\r\n        {error && <div className=\"error-message\">{error}</div>}\r\n        <div className=\"modal-actions\">\r\n          <button onClick={handleSave}>Kaydet</button>\r\n          <button onClick={onClose}>İptal</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProfileEditModal;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}