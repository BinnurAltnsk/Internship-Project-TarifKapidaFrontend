{"ast":null,"code":"import React,{useEffect,useState,useCallback,useMemo,createElement as _createElement}from\"react\";import Navbar from\"./components/Navbar\";import RecipeCard from\"./components/Recipe/RecipeCard\";import\"./App.css\";import{BrowserRouter as Router,Routes,Route,useNavigate}from\"react-router-dom\";import ProfilePage from\"./components/Profile/ProfilePage\";import RecipeDetailModal from\"./components/Recipe/RecipeDetailModal\";import{recipeService}from\"./services/recipeService\";import{userService}from\"./services/userService\";import{favoriteService}from\"./services/favoriteService\";import{getImageUrl}from\"./services/api\";import axios from\"axios\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[recipes,setRecipes]=useState([]);const[searchTerm,setSearchTerm]=useState(\"\");const[selectedCategory,setSelectedCategory]=useState(\"Tümü\");const[categories,setCategories]=useState([\"Tümü\"]);const[userIngredients,setUserIngredients]=useState([]);const[inputIngredient,setInputIngredient]=useState(\"\");const[showOnlyPossible,setShowOnlyPossible]=useState(false);const[selectedRecipe,setSelectedRecipe]=useState(null);const[showLogin,setShowLogin]=useState(false);const[showRegister,setShowRegister]=useState(false);const[user,setUser]=useState(null);const[favorites,setFavorites]=useState([]);const[loading,setLoading]=useState(true);const[favError,setFavError]=useState(\"\");const[theme,setTheme]=useState('light');// Filtrelenmiş tarifleri memoize et\nconst filteredRecipes=useMemo(()=>{return recipes.filter(r=>{var _r$recipeName;if(!r)return false;const title=((_r$recipeName=r.recipeName)===null||_r$recipeName===void 0?void 0:_r$recipeName.toLowerCase())||\"\";const category=r.category||\"\";const search=searchTerm.toLowerCase();const matchesSearch=title.includes(search)||category.toLowerCase().includes(search);const matchesCategory=selectedCategory===\"Tümü\"||category&&category.trim().toLowerCase()===selectedCategory.trim().toLowerCase();// Malzeme bazlı filtreleme\nlet matchesIngredients=true;if(userIngredients.length>0){let recipeIngredients=[];if(typeof r.recipeIngredients===\"string\"){recipeIngredients=r.recipeIngredients.split(/,|\\n/).map(i=>i.trim().toLowerCase()).filter(Boolean);}else if(Array.isArray(r.recipeIngredients)){recipeIngredients=r.recipeIngredients.map(i=>i.trim().toLowerCase());}matchesIngredients=userIngredients.some(userIng=>recipeIngredients.some(recipeIng=>recipeIng.includes(userIng)));}return matchesSearch&&matchesCategory&&matchesIngredients;});},[recipes,searchTerm,selectedCategory,userIngredients]);// Tema yönetimi\nuseEffect(()=>{const savedTheme=localStorage.getItem('theme')||'light';setTheme(savedTheme);document.documentElement.setAttribute('data-theme',savedTheme);},[]);const toggleTheme=()=>{const newTheme=theme==='light'?'dark':'light';setTheme(newTheme);localStorage.setItem('theme',newTheme);document.documentElement.setAttribute('data-theme',newTheme);};// Tarifleri yükle\nuseEffect(()=>{loadRecipes();},[]);const loadRecipes=async()=>{try{setLoading(true);console.log(\"Tarifler yükleniyor...\");const response=await recipeService.getRecipes();const recipesData=response.data;// Resim URL'lerini düzgün şekilde oluştur\nconst processedRecipes=recipesData.map(recipe=>({...recipe,recipeImageUrl:getImageUrl(recipe.recipeImageUrl)}));setRecipes(processedRecipes);// Kategorileri çıkar\nconst uniqueCategories=[...new Set(recipesData.map(recipe=>recipe===null||recipe===void 0?void 0:recipe.category).filter(category=>category&&category.trim()!==\"\"))];setCategories([\"Tümü\",...uniqueCategories]);}catch(error){var _error$response;console.error(\"Tarifler yüklenemedi:\",error);console.error(\"Error details:\",(_error$response=error.response)===null||_error$response===void 0?void 0:_error$response.data);// API hatası durumunda demo tarifler göster\nconsole.log(\"API hatası nedeniyle demo tarifler yükleniyor...\");const demoRecipes=[{recipeId:1,recipeName:\"Mercimek Çorbası\",recipeImageUrl:\"https://via.placeholder.com/400x200/FF6B6B/FFFFFF?text=Mercimek+Çorbası\",recipeIngredients:\"Kırmızı mercimek, soğan, havuç, tereyağı, tuz, karabiber\",recipeInstructions:\"1. Mercimekleri yıkayın\\n2. Sebzeleri doğrayın\\n3. Tencereye alın ve pişirin\",category:\"Çorba\"},{recipeId:2,recipeName:\"Tavuk Sote\",recipeImageUrl:\"https://via.placeholder.com/400x200/4ECDC4/FFFFFF?text=Tavuk+Sote\",recipeIngredients:\"Tavuk göğsü, soğan, biber, domates, zeytinyağı, baharatlar\",recipeInstructions:\"1. Tavukları kuşbaşı doğrayın\\n2. Sebzeleri hazırlayın\\n3. Sote yapın\",category:\"Ana Yemek\"},{recipeId:3,recipeName:\"Pizza Margherita\",recipeImageUrl:\"https://via.placeholder.com/400x200/45B7D1/FFFFFF?text=Pizza+Margherita\",recipeIngredients:\"Pizza hamuru, domates sosu, mozzarella peyniri, fesleğen, zeytinyağı\",recipeInstructions:\"1. Hamuru açın\\n2. Sosu sürün\\n3. Peynir ve fesleğen ekleyin\\n4. Fırında pişirin\",category:\"Pizza\"},{recipeId:4,recipeName:\"Çikolatalı Kek\",recipeImageUrl:\"https://via.placeholder.com/400x200/96CEB4/FFFFFF?text=Çikolatalı+Kek\",recipeIngredients:\"Un, şeker, kakao, yumurta, süt, tereyağı, vanilya\",recipeInstructions:\"1. Malzemeleri karıştırın\\n2. Kek kalıbına dökün\\n3. Fırında pişirin\",category:\"Tatlı\"},{recipeId:5,recipeName:\"Salata\",recipeImageUrl:\"https://via.placeholder.com/400x200/FFEAA7/FFFFFF?text=Salata\",recipeIngredients:\"Marul, domates, salatalık, zeytin, peynir, zeytinyağı, limon\",recipeInstructions:\"1. Sebzeleri yıkayın\\n2. Doğrayın\\n3. Karıştırın ve sos ekleyin\",category:\"Salata\"}];setRecipes(demoRecipes);// Demo kategorileri ekle\nconst demoCategories=[\"Tümü\",\"Çorba\",\"Ana Yemek\",\"Pizza\",\"Tatlı\",\"Salata\"];setCategories(demoCategories);}finally{setLoading(false);}};// Kullanıcı favorilerini yükle\nuseEffect(()=>{if(user!==null&&user!==void 0&&user.userId){loadUserFavorites();}},[user]);const loadUserFavorites=async()=>{try{console.log(\"Favoriler yükleniyor, userId:\",user.userId);const response=await favoriteService.getUserFavorites(user.userId);console.log(\"Favoriler API response:\",response);const favoritesData=response.data;console.log(\"Favoriler data:\",favoritesData);// Farklı veri yapılarını kontrol et\nlet favoriteIds=[];if(Array.isArray(favoritesData)){if(favoritesData.length>0&&typeof favoritesData[0]==='object'&&favoritesData[0].recipeId){// { recipeId: 1, ... } formatında\nfavoriteIds=favoritesData.map(fav=>fav.recipeId);}else if(typeof favoritesData[0]==='number'){// [1, 2, 3] formatında\nfavoriteIds=favoritesData;}}console.log(\"Favori ID'leri:\",favoriteIds);setFavorites(favoriteIds);}catch(error){var _error$response2;console.error(\"Favoriler yüklenemedi:\",error);console.error(\"Favoriler error response:\",(_error$response2=error.response)===null||_error$response2===void 0?void 0:_error$response2.data);setFavorites([]);}};// Otomatik giriş kontrolü\nuseEffect(()=>{const jwt=localStorage.getItem(\"jwt\");const savedUser=localStorage.getItem(\"user\");if(jwt&&savedUser){try{const userData=JSON.parse(savedUser);console.log(\"Kullanıcı bilgileri:\",userData);setUser(userData);}catch(error){console.error(\"Kullanıcı bilgileri yüklenemedi:\",error);localStorage.removeItem(\"jwt\");localStorage.removeItem(\"user\");}}},[]);// Favori ekle/çıkar\nconst handleFavorite=async recipeId=>{if(!user)return;setFavError(\"\");try{const data={userId:user.userId,recipeId:recipeId};console.log(\"Favori işlemi başlatılıyor:\",data);console.log(\"Mevcut favoriler:\",favorites);console.log(\"Bu tarif favori mi?\",favorites.includes(recipeId));if(favorites.includes(recipeId)){console.log(\"Favorilerden çıkarılıyor...\");const response=await favoriteService.removeFromFavorites(data);console.log(\"RemoveFromFavorites response:\",response);setFavorites(favorites.filter(id=>id!==recipeId));}else{console.log(\"Favorilere ekleniyor...\");const response=await favoriteService.addToFavorites(data);console.log(\"AddToFavorites response:\",response);setFavorites([...favorites,recipeId]);}}catch(error){var _error$response3,_error$response4;console.error(\"Favori hatası detayı:\",(_error$response3=error.response)===null||_error$response3===void 0?void 0:_error$response3.data);console.error(\"Favori hatası status:\",(_error$response4=error.response)===null||_error$response4===void 0?void 0:_error$response4.status);setFavError(\"Favori işlemi başarısız oldu. Lütfen tekrar deneyin.\");console.error(\"Favori hatası:\",error);}};// Giriş başarılı\nconst handleAuthSuccess=async userData=>{console.log(\"handleAuthSuccess çağrıldı, yeni kullanıcı:\",userData);// Önceki kullanıcı verilerini tamamen temizle\nsetUser(null);setFavorites([]);// localStorage'ı temizle\nlocalStorage.removeItem(\"user\");localStorage.removeItem(\"jwt\");// Tüm cache'leri temizle\nif('caches'in window){try{const cacheNames=await caches.keys();for(const name of cacheNames){await caches.delete(name);}}catch(error){console.error('Cache temizleme hatası:',error);}}// Tarayıcı cache'ini temizle\nif('serviceWorker'in navigator){try{const registrations=await navigator.serviceWorker.getRegistrations();for(const registration of registrations){await registration.unregister();}}catch(error){console.error('Service Worker temizleme hatası:',error);}}// Yeni kullanıcı verilerini ayarla\nsetUser(userData);localStorage.setItem(\"user\",JSON.stringify(userData));setShowLogin(false);setShowRegister(false);};// Çıkış\nconst handleLogout=()=>{localStorage.removeItem(\"jwt\");localStorage.removeItem(\"user\");setUser(null);setFavorites([]);// Profil fotoğrafı cache'ini temizle\nif('caches'in window){caches.keys().then(names=>{names.forEach(name=>{if(name.includes('profile-photo')||name.includes('image')){caches.delete(name);}});});}};// Navbar'daki Profilim butonuna tıklayınca yönlendirme için\nfunction AppNavbar(props){const navigate=useNavigate();return/*#__PURE__*/_createElement(Navbar,{...props,user:user,onProfileClick:()=>navigate(\"/profil\"),onLogoClick:()=>navigate(\"/\"),theme:theme,toggleTheme:toggleTheme,key:`${user===null||user===void 0?void 0:user.userId}-${user===null||user===void 0?void 0:user.username}-${Date.now()}`// Kullanıcı değiştiğinde Navbar'ı yeniden render et\n});}return/*#__PURE__*/_jsxs(Router,{children:[/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(AppNavbar,{searchTerm:searchTerm,setSearchTerm:setSearchTerm,selectedCategory:selectedCategory,setSelectedCategory:setSelectedCategory,categories:categories,onLoginClick:()=>setShowLogin(true),onRegisterClick:()=>setShowRegister(true),user:user,onLogout:handleLogout,onProfileClick:()=>{},onLogoClick:()=>{}}),/*#__PURE__*/_jsxs(\"div\",{style:{maxWidth:500,margin:\"24px auto 0\",background:\"var(--card-bg)\",color:\"var(--text-primary)\",borderRadius:12,padding:16,boxShadow:\"0 2px 8px var(--shadow-color)\",border:\"1px solid var(--border-color)\"},children:[/*#__PURE__*/_jsx(\"h3\",{style:{color:\"var(--text-primary)\",marginBottom:16},children:\"Elinizdeki Malzemeler\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",gap:8,marginBottom:12},children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:inputIngredient,onChange:e=>setInputIngredient(e.target.value),placeholder:\"Malzeme ekle...\",style:{flex:1,padding:8,borderRadius:6,border:\"1px solid var(--border-color)\",backgroundColor:\"var(--input-bg)\",color:\"var(--text-primary)\"},onKeyDown:e=>{if(e.key===\"Enter\"&&inputIngredient.trim()){setUserIngredients([...userIngredients,inputIngredient.trim().toLowerCase()]);setInputIngredient(\"\");}}}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{if(inputIngredient.trim()){setUserIngredients([...userIngredients,inputIngredient.trim().toLowerCase()]);setInputIngredient(\"\");}},style:{padding:\"8px 16px\",borderRadius:6,background:\"var(--accent-color)\",color:\"#fff\",border:\"none\"},children:\"Ekle\"})]}),/*#__PURE__*/_jsx(\"div\",{style:{display:\"flex\",flexWrap:\"wrap\",gap:8,marginBottom:12},children:userIngredients.map((ing,idx)=>/*#__PURE__*/_jsxs(\"span\",{style:{background:\"var(--bg-secondary)\",color:\"var(--accent-color)\",padding:\"4px 10px\",borderRadius:8,fontSize:15,border:\"1px solid var(--border-color)\"},children:[ing,\" \",/*#__PURE__*/_jsx(\"button\",{style:{background:\"none\",border:\"none\",color:\"var(--accent-color)\",cursor:\"pointer\"},onClick:()=>setUserIngredients(userIngredients.filter((_,i)=>i!==idx)),children:\"\\xD7\"})]},idx))}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowOnlyPossible(!showOnlyPossible),style:{padding:\"8px 16px\",borderRadius:6,background:showOnlyPossible?\"var(--text-secondary)\":\"var(--accent-color)\",color:\"#fff\",border:\"none\",marginTop:8},children:showOnlyPossible?\"Tüm Tarifleri Göster\":\"Sadece Yapabileceğim Tarifler\"})]}),favError&&/*#__PURE__*/_jsx(\"div\",{style:{color:'#e60023',textAlign:'center',margin:'12px 0'},children:favError}),/*#__PURE__*/_jsx(\"div\",{style:{padding:\"32px\",maxWidth:\"1200px\",margin:\"0 auto\"},children:loading?/*#__PURE__*/_jsx(\"div\",{style:{textAlign:'center',padding:'50px'},children:\"Tarifler y\\xFCkleniyor...\"}):/*#__PURE__*/_jsx(\"div\",{className:\"recipe-grid\",children:filteredRecipes.map(r=>{const{recipeId,recipeName,recipeImageUrl,recipeIngredients,recipeInstructions}=r;return/*#__PURE__*/_jsx(RecipeCard,{title:recipeName,imageUrl:recipeImageUrl,ingredients:recipeIngredients,recipeInstructions:recipeInstructions,userIngredients:userIngredients,onClick:()=>setSelectedRecipe(r),showIngredients:false,isFavorite:favorites.includes(recipeId),onFavoriteClick:()=>handleFavorite(recipeId),user:user},recipeId);})})}),selectedRecipe&&/*#__PURE__*/_jsx(RecipeDetailModal,{recipe:selectedRecipe,user:user,onClose:()=>setSelectedRecipe(null)})]})}),/*#__PURE__*/_jsx(Route,{path:\"/profil\",element:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(AppNavbar,{searchTerm:searchTerm,setSearchTerm:setSearchTerm,selectedCategory:selectedCategory,setSelectedCategory:setSelectedCategory,categories:categories,onLoginClick:()=>setShowLogin(true),onRegisterClick:()=>setShowRegister(true),user:user,onLogout:handleLogout,onProfileClick:()=>{},onLogoClick:()=>{}}),/*#__PURE__*/_jsx(ProfilePage,{user:user,favorites:favorites,recipes:recipes,onFavoriteClick:handleFavorite,onProfileUpdate:()=>{// Profil güncellendiğinde Navbar'ı yeniden render etmek için\n// Bu fonksiyon Navbar'ın yeniden yüklenmesini sağlar\n}})]})})]}),showLogin&&/*#__PURE__*/_jsx(\"div\",{style:{position:\"fixed\",top:0,left:0,width:\"100vw\",height:\"100vh\",background:\"rgba(0,0,0,0.4)\",zIndex:2000,display:\"flex\",alignItems:\"center\",justifyContent:\"center\"},onClick:()=>setShowLogin(false),children:/*#__PURE__*/_jsxs(\"div\",{style:{background:\"var(--modal-bg)\",color:\"var(--text-primary)\",borderRadius:16,padding:32,maxWidth:400,width:\"100%\",position:\"relative\"},onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowLogin(false),style:{position:\"absolute\",top:16,right:16,background:\"var(--accent-color)\",color:\"#fff\",border:\"none\",borderRadius:8,padding:\"4px 12px\",fontSize:18,cursor:\"pointer\"},children:\"Kapat\"}),/*#__PURE__*/_jsx(\"h2\",{style:{marginBottom:24,color:\"var(--text-primary)\"},children:\"Giri\\u015F Yap\"}),/*#__PURE__*/_jsx(LoginForm,{onSuccess:handleAuthSuccess})]})}),showRegister&&/*#__PURE__*/_jsx(\"div\",{style:{position:\"fixed\",top:0,left:0,width:\"100vw\",height:\"100vh\",background:\"rgba(0,0,0,0.4)\",zIndex:2000,display:\"flex\",alignItems:\"center\",justifyContent:\"center\"},onClick:()=>setShowRegister(false),children:/*#__PURE__*/_jsxs(\"div\",{style:{background:\"var(--modal-bg)\",color:\"var(--text-primary)\",borderRadius:16,padding:32,maxWidth:400,width:\"100%\",position:\"relative\"},onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowRegister(false),style:{position:\"absolute\",top:16,right:16,background:\"var(--accent-color)\",color:\"#fff\",border:\"none\",borderRadius:8,padding:\"4px 12px\",fontSize:18,cursor:\"pointer\"},children:\"Kapat\"}),/*#__PURE__*/_jsx(\"h2\",{style:{marginBottom:24,color:\"var(--text-primary)\"},children:\"\\xDCye Ol\"}),/*#__PURE__*/_jsx(RegisterForm,{onSuccess:handleAuthSuccess})]})})]});}// Gerçek API ile çalışan LoginForm\nfunction LoginForm(_ref){let{onSuccess}=_ref;const[email,setEmail]=useState(\"\");const[password,setPassword]=useState(\"\");const[loading,setLoading]=useState(false);const[error,setError]=useState(\"\");async function handleSubmit(e){e.preventDefault();setError(\"\");setLoading(true);try{console.log(\"Giriş denemesi:\",{username:email,password:password});const response=await userService.login({username:email,// API'de username olarak gönderiliyor\npassword:password});console.log(\"Login Response:\",response);// Login başarılı ama user bilgileri dönmüyor, ayrı API çağrısı yapalım\nif(response.status===204||!response.data){console.log(\"Login başarılı, user bilgilerini ayrı API ile çekiyorum...\");try{// Önce email ile kullanıcı bilgilerini çekmeyi dene\nconst userResponse=await userService.getUserByEmail(email);console.log(\"User Response:\",userResponse);if(userResponse.data){const user=userResponse.data;const userData={userId:user.userId||user.id,username:user.username||user.email,email:user.email};console.log(\"User Data from API:\",userData);// Geçici token oluştur\nconst tempToken=\"temp_token_\"+Date.now();localStorage.setItem(\"jwt\",tempToken);if(onSuccess)onSuccess(userData);return;}}catch(userError){console.error(\"GetUserByEmail çalışmadı, tüm kullanıcıları çekmeyi deniyorum:\",userError);try{// Tüm kullanıcıları çek ve email ile filtrele\nconst allUsersResponse=await userService.getUsers();console.log(\"All Users Response:\",allUsersResponse);if(allUsersResponse.data){const user=allUsersResponse.data.find(u=>u.email===email||u.username===email);if(user){const userData={userId:user.userId||user.id,username:user.username||user.email,email:user.email};console.log(\"User Data from filtered users:\",userData);// Geçici token oluştur\nconst tempToken=\"temp_token_\"+Date.now();localStorage.setItem(\"jwt\",tempToken);if(onSuccess)onSuccess(userData);return;}}}catch(allUsersError){console.error(\"Tüm kullanıcılar çekilemedi:\",allUsersError);}}setError(\"Kullanıcı bilgileri alınamadı.\");return;}const{token,user}=response.data;console.log(\"Token:\",token);console.log(\"User:\",user);if(!user){console.error(\"User objesi boş!\");setError(\"Kullanıcı bilgileri alınamadı.\");return;}localStorage.setItem(\"jwt\",token);// Backend'den gelen user verisini kontrol et ve düzenle\nconst userData={userId:user.userId||user.id,username:user.username||user.email,email:user.email};console.log(\"Processed User Data:\",userData);if(onSuccess)onSuccess(userData);}catch(err){var _err$response,_err$response2,_err$response2$data;console.error(\"Login Error:\",err);console.error(\"Error Response:\",(_err$response=err.response)===null||_err$response===void 0?void 0:_err$response.data);setError((err===null||err===void 0?void 0:(_err$response2=err.response)===null||_err$response2===void 0?void 0:(_err$response2$data=_err$response2.data)===null||_err$response2$data===void 0?void 0:_err$response2$data.message)||\"Giriş başarısız. Lütfen bilgilerinizi kontrol edin.\");}finally{setLoading(false);}}return/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:16},children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"login-email\",style:{color:'var(--text-primary)'},children:\"E-posta\"}),/*#__PURE__*/_jsx(\"input\",{id:\"login-email\",name:\"email\",value:email,onChange:e=>setEmail(e.target.value),required:true,style:{width:'100%',padding:8,borderRadius:6,border:'1px solid var(--border-color)',marginTop:4,backgroundColor:'var(--input-bg)',color:'var(--text-primary)'}})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:16},children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"login-password\",style:{color:'var(--text-primary)'},children:\"\\u015Eifre\"}),/*#__PURE__*/_jsx(\"input\",{id:\"login-password\",name:\"password\",type:\"password\",value:password,onChange:e=>setPassword(e.target.value),required:true,style:{width:'100%',padding:8,borderRadius:6,border:'1px solid var(--border-color)',marginTop:4,backgroundColor:'var(--input-bg)',color:'var(--text-primary)'}})]}),error&&/*#__PURE__*/_jsx(\"div\",{style:{color:'var(--error-color)',fontSize:14,marginBottom:12},children:error}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",style:{width:'100%',padding:10,borderRadius:8,background:'var(--accent-color)',color:'#fff',border:'none',fontWeight:'bold',fontSize:16},disabled:!email||!password||loading,children:loading?\"Giriş Yapılıyor...\":\"Giriş Yap\"})]});}// Gerçek API ile çalışan RegisterForm\nfunction RegisterForm(_ref2){let{onSuccess}=_ref2;const[username,setUsername]=useState(\"\");const[email,setEmail]=useState(\"\");const[password,setPassword]=useState(\"\");const[confirmPassword,setConfirmPassword]=useState(\"\");const[loading,setLoading]=useState(false);const[error,setError]=useState(\"\");async function handleSubmit(e){e.preventDefault();setError(\"\");if(password!==confirmPassword){setError(\"Şifreler eşleşmiyor.\");return;}setLoading(true);try{/*       const response = await userService.register({\r\n        username,\r\n        email,\r\n        password,\r\n        confirmPassword\r\n      }); */const BASE_URL=localStorage.getItem(\"API_BASE_URL\");const tokenRequest=localStorage.getItem(\"jwt\");const response=await axios.post(`${BASE_URL}/api/User/CreateUser`,{'Authorization':`Bearer ${tokenRequest}`,username,email,password//confirmPassword\n});const{token,user}=response.data;localStorage.setItem(\"jwt\",token);// Backend'den gelen user verisini kontrol et ve düzenle\nconst userData={userId:(user===null||user===void 0?void 0:user.userId)||(user===null||user===void 0?void 0:user.id)||1,username:(user===null||user===void 0?void 0:user.username)||(user===null||user===void 0?void 0:user.email)||username,email:(user===null||user===void 0?void 0:user.email)||email};console.log(\"Processed User Data:\",userData);if(onSuccess)onSuccess(userData);}catch(err){var _err$response3,_err$response3$data;setError((err===null||err===void 0?void 0:(_err$response3=err.response)===null||_err$response3===void 0?void 0:(_err$response3$data=_err$response3.data)===null||_err$response3$data===void 0?void 0:_err$response3$data.message)||\"Kayıt başarısız. Lütfen tekrar deneyin.\");}finally{setLoading(false);}}return/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:16},children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"register-username\",style:{color:'var(--text-primary)'},children:\"Kullan\\u0131c\\u0131 Ad\\u0131\"}),/*#__PURE__*/_jsx(\"input\",{id:\"register-username\",name:\"username\",type:\"text\",value:username,onChange:e=>setUsername(e.target.value),required:true,style:{width:'100%',padding:8,borderRadius:6,border:'1px solid var(--border-color)',marginTop:4,backgroundColor:'var(--input-bg)',color:'var(--text-primary)'}})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:16},children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"register-email\",style:{color:'var(--text-primary)'},children:\"E-posta\"}),/*#__PURE__*/_jsx(\"input\",{id:\"register-email\",name:\"email\",value:email,onChange:e=>setEmail(e.target.value),required:true,style:{width:'100%',padding:8,borderRadius:6,border:'1px solid var(--border-color)',marginTop:4,backgroundColor:'var(--input-bg)',color:'var(--text-primary)'}})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:16},children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"register-password\",style:{color:'var(--text-primary)'},children:\"\\u015Eifre\"}),/*#__PURE__*/_jsx(\"input\",{id:\"register-password\",name:\"password\",type:\"password\",value:password,onChange:e=>setPassword(e.target.value),required:true,style:{width:'100%',padding:8,borderRadius:6,border:'1px solid var(--border-color)',marginTop:4,backgroundColor:'var(--input-bg)',color:'var(--text-primary)'}})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:16},children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"register-confirm-password\",style:{color:'var(--text-primary)'},children:\"\\u015Eifre Tekrar\\u0131\"}),/*#__PURE__*/_jsx(\"input\",{id:\"register-confirm-password\",name:\"confirmPassword\",type:\"password\",value:confirmPassword,onChange:e=>setConfirmPassword(e.target.value),required:true,style:{width:'100%',padding:8,borderRadius:6,border:'1px solid var(--border-color)',marginTop:4,backgroundColor:'var(--input-bg)',color:'var(--text-primary)'}})]}),error&&/*#__PURE__*/_jsx(\"div\",{style:{color:'var(--error-color)',fontSize:14,marginBottom:12},children:error}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",style:{width:'100%',padding:10,borderRadius:8,background:'var(--accent-color)',color:'#fff',border:'none',fontWeight:'bold',fontSize:16},disabled:!username||!email||!password||!confirmPassword||loading,children:loading?\"Üye Olunuyor...\":\"Üye Ol\"})]});}export default App;","map":{"version":3,"names":["React","useEffect","useState","useCallback","useMemo","createElement","_createElement","Navbar","RecipeCard","BrowserRouter","Router","Routes","Route","useNavigate","ProfilePage","RecipeDetailModal","recipeService","userService","favoriteService","getImageUrl","axios","jsx","_jsx","jsxs","_jsxs","App","recipes","setRecipes","searchTerm","setSearchTerm","selectedCategory","setSelectedCategory","categories","setCategories","userIngredients","setUserIngredients","inputIngredient","setInputIngredient","showOnlyPossible","setShowOnlyPossible","selectedRecipe","setSelectedRecipe","showLogin","setShowLogin","showRegister","setShowRegister","user","setUser","favorites","setFavorites","loading","setLoading","favError","setFavError","theme","setTheme","filteredRecipes","filter","r","_r$recipeName","title","recipeName","toLowerCase","category","search","matchesSearch","includes","matchesCategory","trim","matchesIngredients","length","recipeIngredients","split","map","i","Boolean","Array","isArray","some","userIng","recipeIng","savedTheme","localStorage","getItem","document","documentElement","setAttribute","toggleTheme","newTheme","setItem","loadRecipes","console","log","response","getRecipes","recipesData","data","processedRecipes","recipe","recipeImageUrl","uniqueCategories","Set","error","_error$response","demoRecipes","recipeId","recipeInstructions","demoCategories","userId","loadUserFavorites","getUserFavorites","favoritesData","favoriteIds","fav","_error$response2","jwt","savedUser","userData","JSON","parse","removeItem","handleFavorite","removeFromFavorites","id","addToFavorites","_error$response3","_error$response4","status","handleAuthSuccess","window","cacheNames","caches","keys","name","delete","navigator","registrations","serviceWorker","getRegistrations","registration","unregister","stringify","handleLogout","then","names","forEach","AppNavbar","props","navigate","onProfileClick","onLogoClick","key","username","Date","now","children","path","element","onLoginClick","onRegisterClick","onLogout","style","maxWidth","margin","background","color","borderRadius","padding","boxShadow","border","marginBottom","display","gap","type","value","onChange","e","target","placeholder","flex","backgroundColor","onKeyDown","onClick","flexWrap","ing","idx","fontSize","cursor","_","marginTop","textAlign","className","imageUrl","ingredients","showIngredients","isFavorite","onFavoriteClick","onClose","onProfileUpdate","position","top","left","width","height","zIndex","alignItems","justifyContent","stopPropagation","right","LoginForm","onSuccess","RegisterForm","_ref","email","setEmail","password","setPassword","setError","handleSubmit","preventDefault","login","userResponse","getUserByEmail","tempToken","userError","allUsersResponse","getUsers","find","u","allUsersError","token","err","_err$response","_err$response2","_err$response2$data","message","onSubmit","htmlFor","required","fontWeight","disabled","_ref2","setUsername","confirmPassword","setConfirmPassword","BASE_URL","tokenRequest","post","_err$response3","_err$response3$data"],"sources":["C:/Users/x_user/Desktop/Internship-Project-TarifKapidaFrontend/src/App.js"],"sourcesContent":["import React, { useEffect, useState, useCallback, useMemo } from \"react\";\r\nimport Navbar from \"./components/Navbar\";\r\nimport RecipeCard from \"./components/Recipe/RecipeCard\";\r\nimport \"./App.css\";\r\nimport { BrowserRouter as Router, Routes, Route, useNavigate } from \"react-router-dom\";\r\nimport ProfilePage from \"./components/Profile/ProfilePage\";\r\nimport RecipeDetailModal from \"./components/Recipe/RecipeDetailModal\";\r\nimport { recipeService } from \"./services/recipeService\";\r\nimport { userService } from \"./services/userService\";\r\nimport { favoriteService } from \"./services/favoriteService\";\r\nimport { getImageUrl } from \"./services/api\";\r\nimport axios from \"axios\";\r\n\r\nfunction App() {\r\n  const [recipes, setRecipes] = useState([]);\r\n  const [searchTerm, setSearchTerm] = useState(\"\");\r\n  const [selectedCategory, setSelectedCategory] = useState(\"Tümü\");\r\n  const [categories, setCategories] = useState([\"Tümü\"]);\r\n  const [userIngredients, setUserIngredients] = useState([]);\r\n  const [inputIngredient, setInputIngredient] = useState(\"\");\r\n  const [showOnlyPossible, setShowOnlyPossible] = useState(false);\r\n  const [selectedRecipe, setSelectedRecipe] = useState(null);\r\n  const [showLogin, setShowLogin] = useState(false);\r\n  const [showRegister, setShowRegister] = useState(false);\r\n  const [user, setUser] = useState(null);\r\n  const [favorites, setFavorites] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [favError, setFavError] = useState(\"\");\r\n  const [theme, setTheme] = useState('light');\r\n\r\n  // Filtrelenmiş tarifleri memoize et\r\n  const filteredRecipes = useMemo(() => {\r\n    return recipes.filter((r) => {\r\n      if (!r) return false;\r\n      const title = r.recipeName?.toLowerCase() || \"\";\r\n      const category = r.category || \"\";\r\n      const search = searchTerm.toLowerCase();\r\n      const matchesSearch =\r\n        title.includes(search) ||\r\n        category.toLowerCase().includes(search);\r\n      const matchesCategory =\r\n        selectedCategory === \"Tümü\" ||\r\n        (category && category.trim().toLowerCase() === selectedCategory.trim().toLowerCase());\r\n\r\n      // Malzeme bazlı filtreleme\r\n      let matchesIngredients = true;\r\n      if (userIngredients.length > 0) {\r\n        let recipeIngredients = [];\r\n        if (typeof r.recipeIngredients === \"string\") {\r\n          recipeIngredients = r.recipeIngredients.split(/,|\\n/).map(i => i.trim().toLowerCase()).filter(Boolean);\r\n        } else if (Array.isArray(r.recipeIngredients)) {\r\n          recipeIngredients = r.recipeIngredients.map(i => i.trim().toLowerCase());\r\n        }\r\n        matchesIngredients = userIngredients.some(userIng =>\r\n          recipeIngredients.some(recipeIng => recipeIng.includes(userIng))\r\n        );\r\n      }\r\n      return matchesSearch && matchesCategory && matchesIngredients;\r\n    });\r\n  }, [recipes, searchTerm, selectedCategory, userIngredients]);\r\n\r\n  // Tema yönetimi\r\n  useEffect(() => {\r\n    const savedTheme = localStorage.getItem('theme') || 'light';\r\n    setTheme(savedTheme);\r\n    document.documentElement.setAttribute('data-theme', savedTheme);\r\n  }, []);\r\n\r\n  const toggleTheme = () => {\r\n    const newTheme = theme === 'light' ? 'dark' : 'light';\r\n    setTheme(newTheme);\r\n    localStorage.setItem('theme', newTheme);\r\n    document.documentElement.setAttribute('data-theme', newTheme);\r\n  };\r\n\r\n  // Tarifleri yükle\r\n  useEffect(() => {\r\n    loadRecipes();\r\n  }, []);\r\n\r\n  const loadRecipes = async () => {\r\n    try {\r\n      setLoading(true);\r\n      console.log(\"Tarifler yükleniyor...\");\r\n      const response = await recipeService.getRecipes();\r\n      const recipesData = response.data;\r\n      \r\n      // Resim URL'lerini düzgün şekilde oluştur\r\n      const processedRecipes = recipesData.map(recipe => ({\r\n        ...recipe,\r\n        recipeImageUrl: getImageUrl(recipe.recipeImageUrl)\r\n      }));\r\n      \r\n      setRecipes(processedRecipes);\r\n      \r\n      // Kategorileri çıkar\r\n      const uniqueCategories = [...new Set(\r\n        recipesData\r\n          .map(recipe => recipe?.category)\r\n          .filter(category => category && category.trim() !== \"\")\r\n      )];\r\n      \r\n      setCategories([\"Tümü\", ...uniqueCategories]);\r\n    } catch (error) {\r\n      console.error(\"Tarifler yüklenemedi:\", error);\r\n      console.error(\"Error details:\", error.response?.data);\r\n      \r\n      // API hatası durumunda demo tarifler göster\r\n      console.log(\"API hatası nedeniyle demo tarifler yükleniyor...\");\r\n      const demoRecipes = [\r\n        {\r\n          recipeId: 1,\r\n          recipeName: \"Mercimek Çorbası\",\r\n          recipeImageUrl: \"https://via.placeholder.com/400x200/FF6B6B/FFFFFF?text=Mercimek+Çorbası\",\r\n          recipeIngredients: \"Kırmızı mercimek, soğan, havuç, tereyağı, tuz, karabiber\",\r\n          recipeInstructions: \"1. Mercimekleri yıkayın\\n2. Sebzeleri doğrayın\\n3. Tencereye alın ve pişirin\",\r\n          category: \"Çorba\"\r\n        },\r\n        {\r\n          recipeId: 2,\r\n          recipeName: \"Tavuk Sote\",\r\n          recipeImageUrl: \"https://via.placeholder.com/400x200/4ECDC4/FFFFFF?text=Tavuk+Sote\",\r\n          recipeIngredients: \"Tavuk göğsü, soğan, biber, domates, zeytinyağı, baharatlar\",\r\n          recipeInstructions: \"1. Tavukları kuşbaşı doğrayın\\n2. Sebzeleri hazırlayın\\n3. Sote yapın\",\r\n          category: \"Ana Yemek\"\r\n        },\r\n        {\r\n          recipeId: 3,\r\n          recipeName: \"Pizza Margherita\",\r\n          recipeImageUrl: \"https://via.placeholder.com/400x200/45B7D1/FFFFFF?text=Pizza+Margherita\",\r\n          recipeIngredients: \"Pizza hamuru, domates sosu, mozzarella peyniri, fesleğen, zeytinyağı\",\r\n          recipeInstructions: \"1. Hamuru açın\\n2. Sosu sürün\\n3. Peynir ve fesleğen ekleyin\\n4. Fırında pişirin\",\r\n          category: \"Pizza\"\r\n        },\r\n        {\r\n          recipeId: 4,\r\n          recipeName: \"Çikolatalı Kek\",\r\n          recipeImageUrl: \"https://via.placeholder.com/400x200/96CEB4/FFFFFF?text=Çikolatalı+Kek\",\r\n          recipeIngredients: \"Un, şeker, kakao, yumurta, süt, tereyağı, vanilya\",\r\n          recipeInstructions: \"1. Malzemeleri karıştırın\\n2. Kek kalıbına dökün\\n3. Fırında pişirin\",\r\n          category: \"Tatlı\"\r\n        },\r\n        {\r\n          recipeId: 5,\r\n          recipeName: \"Salata\",\r\n          recipeImageUrl: \"https://via.placeholder.com/400x200/FFEAA7/FFFFFF?text=Salata\",\r\n          recipeIngredients: \"Marul, domates, salatalık, zeytin, peynir, zeytinyağı, limon\",\r\n          recipeInstructions: \"1. Sebzeleri yıkayın\\n2. Doğrayın\\n3. Karıştırın ve sos ekleyin\",\r\n          category: \"Salata\"\r\n        }\r\n      ];\r\n      \r\n      setRecipes(demoRecipes);\r\n      \r\n      // Demo kategorileri ekle\r\n      const demoCategories = [\"Tümü\", \"Çorba\", \"Ana Yemek\", \"Pizza\", \"Tatlı\", \"Salata\"];\r\n      setCategories(demoCategories);\r\n      \r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Kullanıcı favorilerini yükle\r\n  useEffect(() => {\r\n    if (user?.userId) {\r\n      loadUserFavorites();\r\n    }\r\n  }, [user]);\r\n\r\n  const loadUserFavorites = async () => {\r\n    try {\r\n      console.log(\"Favoriler yükleniyor, userId:\", user.userId);\r\n      const response = await favoriteService.getUserFavorites(user.userId);\r\n      console.log(\"Favoriler API response:\", response);\r\n      \r\n      const favoritesData = response.data;\r\n      console.log(\"Favoriler data:\", favoritesData);\r\n      \r\n      // Farklı veri yapılarını kontrol et\r\n      let favoriteIds = [];\r\n      if (Array.isArray(favoritesData)) {\r\n        if (favoritesData.length > 0 && typeof favoritesData[0] === 'object' && favoritesData[0].recipeId) {\r\n          // { recipeId: 1, ... } formatında\r\n          favoriteIds = favoritesData.map(fav => fav.recipeId);\r\n        } else if (typeof favoritesData[0] === 'number') {\r\n          // [1, 2, 3] formatında\r\n          favoriteIds = favoritesData;\r\n        }\r\n      }\r\n      \r\n      console.log(\"Favori ID'leri:\", favoriteIds);\r\n      setFavorites(favoriteIds);\r\n    } catch (error) {\r\n      console.error(\"Favoriler yüklenemedi:\", error);\r\n      console.error(\"Favoriler error response:\", error.response?.data);\r\n      setFavorites([]);\r\n    }\r\n  };\r\n\r\n  // Otomatik giriş kontrolü\r\n  useEffect(() => {\r\n    const jwt = localStorage.getItem(\"jwt\");\r\n    const savedUser = localStorage.getItem(\"user\");\r\n    \r\n    if (jwt && savedUser) {\r\n      try {\r\n        const userData = JSON.parse(savedUser);\r\n        console.log(\"Kullanıcı bilgileri:\", userData);\r\n        setUser(userData);\r\n      } catch (error) {\r\n        console.error(\"Kullanıcı bilgileri yüklenemedi:\", error);\r\n        localStorage.removeItem(\"jwt\");\r\n        localStorage.removeItem(\"user\");\r\n      }\r\n    }\r\n  }, []);\r\n\r\n  // Favori ekle/çıkar\r\n  const handleFavorite = async (recipeId) => {\r\n    if (!user) return;\r\n    \r\n    setFavError(\"\");\r\n    try {\r\n      const data = {\r\n        userId: user.userId,\r\n        recipeId: recipeId\r\n      };\r\n\r\n      console.log(\"Favori işlemi başlatılıyor:\", data);\r\n      console.log(\"Mevcut favoriler:\", favorites);\r\n      console.log(\"Bu tarif favori mi?\", favorites.includes(recipeId));\r\n\r\n      if (favorites.includes(recipeId)) {\r\n        console.log(\"Favorilerden çıkarılıyor...\");\r\n        const response = await favoriteService.removeFromFavorites(data);\r\n        console.log(\"RemoveFromFavorites response:\", response);\r\n        setFavorites(favorites.filter(id => id !== recipeId));\r\n      } else {\r\n        console.log(\"Favorilere ekleniyor...\");\r\n        const response = await favoriteService.addToFavorites(data);\r\n        console.log(\"AddToFavorites response:\", response);\r\n        setFavorites([...favorites, recipeId]);\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Favori hatası detayı:\", error.response?.data);\r\n      console.error(\"Favori hatası status:\", error.response?.status);\r\n      setFavError(\"Favori işlemi başarısız oldu. Lütfen tekrar deneyin.\");\r\n      console.error(\"Favori hatası:\", error);\r\n    }\r\n  };\r\n\r\n  // Giriş başarılı\r\n  const handleAuthSuccess = async (userData) => {\r\n    console.log(\"handleAuthSuccess çağrıldı, yeni kullanıcı:\", userData);\r\n    \r\n    // Önceki kullanıcı verilerini tamamen temizle\r\n    setUser(null);\r\n    setFavorites([]);\r\n    \r\n    // localStorage'ı temizle\r\n    localStorage.removeItem(\"user\");\r\n    localStorage.removeItem(\"jwt\");\r\n    \r\n    // Tüm cache'leri temizle\r\n    if ('caches' in window) {\r\n      try {\r\n        const cacheNames = await caches.keys();\r\n        for (const name of cacheNames) {\r\n          await caches.delete(name);\r\n        }\r\n      } catch (error) {\r\n        console.error('Cache temizleme hatası:', error);\r\n      }\r\n    }\r\n    \r\n    // Tarayıcı cache'ini temizle\r\n    if ('serviceWorker' in navigator) {\r\n      try {\r\n        const registrations = await navigator.serviceWorker.getRegistrations();\r\n        for (const registration of registrations) {\r\n          await registration.unregister();\r\n        }\r\n      } catch (error) {\r\n        console.error('Service Worker temizleme hatası:', error);\r\n      }\r\n    }\r\n    \r\n    // Yeni kullanıcı verilerini ayarla\r\n    setUser(userData);\r\n    localStorage.setItem(\"user\", JSON.stringify(userData));\r\n    setShowLogin(false);\r\n    setShowRegister(false);\r\n  };\r\n\r\n  // Çıkış\r\n  const handleLogout = () => {\r\n    localStorage.removeItem(\"jwt\");\r\n    localStorage.removeItem(\"user\");\r\n    setUser(null);\r\n    setFavorites([]);\r\n    \r\n    // Profil fotoğrafı cache'ini temizle\r\n    if ('caches' in window) {\r\n      caches.keys().then(names => {\r\n        names.forEach(name => {\r\n          if (name.includes('profile-photo') || name.includes('image')) {\r\n            caches.delete(name);\r\n          }\r\n        });\r\n      });\r\n    }\r\n  };\r\n\r\n  // Navbar'daki Profilim butonuna tıklayınca yönlendirme için\r\n  function AppNavbar(props) {\r\n    const navigate = useNavigate();\r\n    return (\r\n      <Navbar\r\n        {...props}\r\n        user={user}\r\n        onProfileClick={() => navigate(\"/profil\")}\r\n        onLogoClick={() => navigate(\"/\")}\r\n        theme={theme}\r\n        toggleTheme={toggleTheme}\r\n        key={`${user?.userId}-${user?.username}-${Date.now()}`} // Kullanıcı değiştiğinde Navbar'ı yeniden render et\r\n      />\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Router>\r\n      <Routes>\r\n        <Route\r\n          path=\"/\"\r\n          element={\r\n            <div>\r\n              <AppNavbar\r\n                searchTerm={searchTerm}\r\n                setSearchTerm={setSearchTerm}\r\n                selectedCategory={selectedCategory}\r\n                setSelectedCategory={setSelectedCategory}\r\n                categories={categories}\r\n                onLoginClick={() => setShowLogin(true)}\r\n                onRegisterClick={() => setShowRegister(true)}\r\n                user={user}\r\n                onLogout={handleLogout}\r\n                onProfileClick={() => {}}\r\n                onLogoClick={() => {}}\r\n              />\r\n              <div style={{ maxWidth: 500, margin: \"24px auto 0\", background: \"var(--card-bg)\", color: \"var(--text-primary)\", borderRadius: 12, padding: 16, boxShadow: \"0 2px 8px var(--shadow-color)\", border: \"1px solid var(--border-color)\" }}>\r\n                <h3 style={{ color: \"var(--text-primary)\", marginBottom: 16 }}>Elinizdeki Malzemeler</h3>\r\n                <div style={{ display: \"flex\", gap: 8, marginBottom: 12 }}>\r\n                  <input\r\n                    type=\"text\"\r\n                    value={inputIngredient}\r\n                    onChange={e => setInputIngredient(e.target.value)}\r\n                    placeholder=\"Malzeme ekle...\"\r\n                    style={{ flex: 1, padding: 8, borderRadius: 6, border: \"1px solid var(--border-color)\", backgroundColor: \"var(--input-bg)\", color: \"var(--text-primary)\" }}\r\n                    onKeyDown={e => { if (e.key === \"Enter\" && inputIngredient.trim()) { setUserIngredients([...userIngredients, inputIngredient.trim().toLowerCase()]); setInputIngredient(\"\"); } }}\r\n                  />\r\n                  <button\r\n                    onClick={() => { if (inputIngredient.trim()) { setUserIngredients([...userIngredients, inputIngredient.trim().toLowerCase()]); setInputIngredient(\"\"); } }}\r\n                    style={{ padding: \"8px 16px\", borderRadius: 6, background: \"var(--accent-color)\", color: \"#fff\", border: \"none\" }}\r\n                  >Ekle</button>\r\n                </div>\r\n                <div style={{ display: \"flex\", flexWrap: \"wrap\", gap: 8, marginBottom: 12 }}>\r\n                  {userIngredients.map((ing, idx) => (\r\n                    <span key={idx} style={{ background: \"var(--bg-secondary)\", color: \"var(--accent-color)\", padding: \"4px 10px\", borderRadius: 8, fontSize: 15, border: \"1px solid var(--border-color)\" }}>{ing} <button style={{ background: \"none\", border: \"none\", color: \"var(--accent-color)\", cursor: \"pointer\" }} onClick={() => setUserIngredients(userIngredients.filter((_, i) => i !== idx))}>×</button></span>\r\n                  ))}\r\n                </div>\r\n                <button\r\n                  onClick={() => setShowOnlyPossible(!showOnlyPossible)}\r\n                  style={{ padding: \"8px 16px\", borderRadius: 6, background: showOnlyPossible ? \"var(--text-secondary)\" : \"var(--accent-color)\", color: \"#fff\", border: \"none\", marginTop: 8 }}\r\n                >{showOnlyPossible ? \"Tüm Tarifleri Göster\" : \"Sadece Yapabileceğim Tarifler\"}</button>\r\n              </div>\r\n              {favError && <div style={{ color: '#e60023', textAlign: 'center', margin: '12px 0' }}>{favError}</div>}\r\n              <div style={{ padding: \"32px\", maxWidth: \"1200px\", margin: \"0 auto\" }}>\r\n                {loading ? (\r\n                  <div style={{ textAlign: 'center', padding: '50px' }}>Tarifler yükleniyor...</div>\r\n                ) : (\r\n                  <div className=\"recipe-grid\">\r\n                    {filteredRecipes.map((r) => {\r\n                      const { recipeId, recipeName, recipeImageUrl, recipeIngredients, recipeInstructions } = r;\r\n                      \r\n                      return (\r\n                        <RecipeCard\r\n                          key={recipeId}\r\n                          title={recipeName}\r\n                          imageUrl={recipeImageUrl}\r\n                          ingredients={recipeIngredients}\r\n                          recipeInstructions={recipeInstructions}\r\n                          userIngredients={userIngredients}\r\n                          onClick={() => setSelectedRecipe(r)}\r\n                          showIngredients={false}\r\n                          isFavorite={favorites.includes(recipeId)}\r\n                          onFavoriteClick={() => handleFavorite(recipeId)}\r\n                          user={user}\r\n                        />\r\n                      );\r\n                    })}\r\n                  </div>\r\n                )}\r\n              </div>\r\n              {selectedRecipe && (\r\n                <RecipeDetailModal\r\n                  recipe={selectedRecipe}\r\n                  user={user}\r\n                  onClose={() => setSelectedRecipe(null)}\r\n                />\r\n              )}\r\n            </div>\r\n          }\r\n        />\r\n        <Route\r\n          path=\"/profil\"\r\n          element={\r\n            <div>\r\n              <AppNavbar\r\n                searchTerm={searchTerm}\r\n                setSearchTerm={setSearchTerm}\r\n                selectedCategory={selectedCategory}\r\n                setSelectedCategory={setSelectedCategory}\r\n                categories={categories}\r\n                onLoginClick={() => setShowLogin(true)}\r\n                onRegisterClick={() => setShowRegister(true)}\r\n                user={user}\r\n                onLogout={handleLogout}\r\n                onProfileClick={() => {}}\r\n                onLogoClick={() => {}}\r\n              />\r\n              <ProfilePage \r\n                user={user} \r\n                favorites={favorites} \r\n                recipes={recipes} \r\n                onFavoriteClick={handleFavorite}\r\n                onProfileUpdate={() => {\r\n                  // Profil güncellendiğinde Navbar'ı yeniden render etmek için\r\n                  // Bu fonksiyon Navbar'ın yeniden yüklenmesini sağlar\r\n                }}\r\n              />\r\n            </div>\r\n          }\r\n        />\r\n      </Routes>\r\n      {/* Giriş ve Üye Ol modalları */}\r\n      {showLogin && (\r\n        <div style={{ position: \"fixed\", top: 0, left: 0, width: \"100vw\", height: \"100vh\", background: \"rgba(0,0,0,0.4)\", zIndex: 2000, display: \"flex\", alignItems: \"center\", justifyContent: \"center\" }} onClick={() => setShowLogin(false)}>\r\n          <div style={{ background: \"var(--modal-bg)\", color: \"var(--text-primary)\", borderRadius: 16, padding: 32, maxWidth: 400, width: \"100%\", position: \"relative\" }} onClick={e => e.stopPropagation()}>\r\n            <button onClick={() => setShowLogin(false)} style={{ position: \"absolute\", top: 16, right: 16, background: \"var(--accent-color)\", color: \"#fff\", border: \"none\", borderRadius: 8, padding: \"4px 12px\", fontSize: 18, cursor: \"pointer\" }}>Kapat</button>\r\n            <h2 style={{ marginBottom: 24, color: \"var(--text-primary)\" }}>Giriş Yap</h2>\r\n            <LoginForm onSuccess={handleAuthSuccess} />\r\n          </div>\r\n        </div>\r\n      )}\r\n      {showRegister && (\r\n        <div style={{ position: \"fixed\", top: 0, left: 0, width: \"100vw\", height: \"100vh\", background: \"rgba(0,0,0,0.4)\", zIndex: 2000, display: \"flex\", alignItems: \"center\", justifyContent: \"center\" }} onClick={() => setShowRegister(false)}>\r\n          <div style={{ background: \"var(--modal-bg)\", color: \"var(--text-primary)\", borderRadius: 16, padding: 32, maxWidth: 400, width: \"100%\", position: \"relative\" }} onClick={e => e.stopPropagation()}>\r\n            <button onClick={() => setShowRegister(false)} style={{ position: \"absolute\", top: 16, right: 16, background: \"var(--accent-color)\", color: \"#fff\", border: \"none\", borderRadius: 8, padding: \"4px 12px\", fontSize: 18, cursor: \"pointer\" }}>Kapat</button>\r\n            <h2 style={{ marginBottom: 24, color: \"var(--text-primary)\" }}>Üye Ol</h2>\r\n            <RegisterForm onSuccess={handleAuthSuccess} />\r\n          </div>\r\n        </div>\r\n      )}\r\n    </Router>\r\n  );\r\n}\r\n\r\n// Gerçek API ile çalışan LoginForm\r\nfunction LoginForm({ onSuccess }) {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(\"\");\r\n\r\n  async function handleSubmit(e) {\r\n    e.preventDefault();\r\n    setError(\"\");\r\n    setLoading(true);\r\n    \r\n    try {\r\n      console.log(\"Giriş denemesi:\", { username: email, password: password });\r\n      const response = await userService.login({\r\n        username: email, // API'de username olarak gönderiliyor\r\n        password: password\r\n      });\r\n      \r\n      console.log(\"Login Response:\", response);\r\n      \r\n      // Login başarılı ama user bilgileri dönmüyor, ayrı API çağrısı yapalım\r\n      if (response.status === 204 || !response.data) {\r\n        console.log(\"Login başarılı, user bilgilerini ayrı API ile çekiyorum...\");\r\n        \r\n        try {\r\n          // Önce email ile kullanıcı bilgilerini çekmeyi dene\r\n          const userResponse = await userService.getUserByEmail(email);\r\n          console.log(\"User Response:\", userResponse);\r\n          \r\n          if (userResponse.data) {\r\n            const user = userResponse.data;\r\n            const userData = {\r\n              userId: user.userId || user.id,\r\n              username: user.username || user.email,\r\n              email: user.email\r\n            };\r\n            console.log(\"User Data from API:\", userData);\r\n            \r\n            // Geçici token oluştur\r\n            const tempToken = \"temp_token_\" + Date.now();\r\n            localStorage.setItem(\"jwt\", tempToken);\r\n            \r\n            if (onSuccess) onSuccess(userData);\r\n            return;\r\n          }\r\n        } catch (userError) {\r\n          console.error(\"GetUserByEmail çalışmadı, tüm kullanıcıları çekmeyi deniyorum:\", userError);\r\n          \r\n          try {\r\n            // Tüm kullanıcıları çek ve email ile filtrele\r\n            const allUsersResponse = await userService.getUsers();\r\n            console.log(\"All Users Response:\", allUsersResponse);\r\n            \r\n            if (allUsersResponse.data) {\r\n              const user = allUsersResponse.data.find(u => u.email === email || u.username === email);\r\n              if (user) {\r\n                const userData = {\r\n                  userId: user.userId || user.id,\r\n                  username: user.username || user.email,\r\n                  email: user.email\r\n                };\r\n                console.log(\"User Data from filtered users:\", userData);\r\n                \r\n                // Geçici token oluştur\r\n                const tempToken = \"temp_token_\" + Date.now();\r\n                localStorage.setItem(\"jwt\", tempToken);\r\n                \r\n                if (onSuccess) onSuccess(userData);\r\n                return;\r\n              }\r\n            }\r\n          } catch (allUsersError) {\r\n            console.error(\"Tüm kullanıcılar çekilemedi:\", allUsersError);\r\n          }\r\n        }\r\n        \r\n        setError(\"Kullanıcı bilgileri alınamadı.\");\r\n        return;\r\n      }\r\n      \r\n      const { token, user } = response.data;\r\n      console.log(\"Token:\", token);\r\n      console.log(\"User:\", user);\r\n      \r\n      if (!user) {\r\n        console.error(\"User objesi boş!\");\r\n        setError(\"Kullanıcı bilgileri alınamadı.\");\r\n        return;\r\n      }\r\n      \r\n      localStorage.setItem(\"jwt\", token);\r\n      \r\n      // Backend'den gelen user verisini kontrol et ve düzenle\r\n      const userData = {\r\n        userId: user.userId || user.id,\r\n        username: user.username || user.email,\r\n        email: user.email\r\n      };\r\n      console.log(\"Processed User Data:\", userData);\r\n      \r\n      if (onSuccess) onSuccess(userData);\r\n    } catch (err) {\r\n      console.error(\"Login Error:\", err);\r\n      console.error(\"Error Response:\", err.response?.data);\r\n      setError(err?.response?.data?.message || \"Giriş başarısız. Lütfen bilgilerinizi kontrol edin.\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit}>\r\n      <div style={{ marginBottom: 16 }}>\r\n        <label htmlFor=\"login-email\" style={{ color: 'var(--text-primary)' }}>E-posta</label>\r\n        <input id=\"login-email\" name=\"email\" value={email} onChange={e => setEmail(e.target.value)} required style={{ width: '100%', padding: 8, borderRadius: 6, border: '1px solid var(--border-color)', marginTop: 4, backgroundColor: 'var(--input-bg)', color: 'var(--text-primary)' }} />\r\n      </div>\r\n      <div style={{ marginBottom: 16 }}>\r\n        <label htmlFor=\"login-password\" style={{ color: 'var(--text-primary)' }}>Şifre</label>\r\n        <input id=\"login-password\" name=\"password\" type=\"password\" value={password} onChange={e => setPassword(e.target.value)} required style={{ width: '100%', padding: 8, borderRadius: 6, border: '1px solid var(--border-color)', marginTop: 4, backgroundColor: 'var(--input-bg)', color: 'var(--text-primary)' }} />\r\n      </div>\r\n      {error && <div style={{ color: 'var(--error-color)', fontSize: 14, marginBottom: 12 }}>{error}</div>}\r\n      <button type=\"submit\" style={{ width: '100%', padding: 10, borderRadius: 8, background: 'var(--accent-color)', color: '#fff', border: 'none', fontWeight: 'bold', fontSize: 16 }} disabled={!email || !password || loading}>{loading ? \"Giriş Yapılıyor...\" : \"Giriş Yap\"}</button>\r\n    </form>\r\n  );\r\n}\r\n\r\n// Gerçek API ile çalışan RegisterForm\r\nfunction RegisterForm({ onSuccess }) {\r\n  const [username, setUsername] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [confirmPassword, setConfirmPassword] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(\"\");\r\n\r\n  async function handleSubmit(e) {\r\n    e.preventDefault();\r\n    setError(\"\");\r\n    \r\n    if (password !== confirmPassword) {\r\n      setError(\"Şifreler eşleşmiyor.\");\r\n      return;\r\n    }\r\n    \r\n    setLoading(true);\r\n    try {\r\n/*       const response = await userService.register({\r\n        username,\r\n        email,\r\n        password,\r\n        confirmPassword\r\n      }); */\r\n      const BASE_URL = localStorage.getItem(\"API_BASE_URL\");\r\n      const tokenRequest = localStorage.getItem(\"jwt\");\r\n      const response = await axios.post(`${BASE_URL}/api/User/CreateUser`,{\r\n        'Authorization': `Bearer ${tokenRequest}`,\r\n        username,\r\n        email,\r\n        password,\r\n        //confirmPassword\r\n      });\r\n      \r\n      const { token, user } = response.data;\r\n      localStorage.setItem(\"jwt\", token);\r\n      \r\n      // Backend'den gelen user verisini kontrol et ve düzenle\r\n      const userData = {\r\n        userId: user?.userId || user?.id || 1,\r\n        username: user?.username || user?.email || username,\r\n        email: user?.email || email\r\n      };\r\n      console.log(\"Processed User Data:\", userData);\r\n      \r\n      if (onSuccess) onSuccess(userData);\r\n    } catch (err) {\r\n      setError(err?.response?.data?.message || \"Kayıt başarısız. Lütfen tekrar deneyin.\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit}>\r\n      <div style={{ marginBottom: 16 }}>\r\n        <label htmlFor=\"register-username\" style={{ color: 'var(--text-primary)' }}>Kullanıcı Adı</label>\r\n        <input id=\"register-username\" name=\"username\" type=\"text\" value={username} onChange={e => setUsername(e.target.value)} required style={{ width: '100%', padding: 8, borderRadius: 6, border: '1px solid var(--border-color)', marginTop: 4, backgroundColor: 'var(--input-bg)', color: 'var(--text-primary)' }} />\r\n      </div>\r\n      <div style={{ marginBottom: 16 }}>\r\n        <label htmlFor=\"register-email\" style={{ color: 'var(--text-primary)' }}>E-posta</label>\r\n        <input id=\"register-email\" name=\"email\" value={email} onChange={e => setEmail(e.target.value)} required style={{ width: '100%', padding: 8, borderRadius: 6, border: '1px solid var(--border-color)', marginTop: 4, backgroundColor: 'var(--input-bg)', color: 'var(--text-primary)' }} />\r\n      </div>\r\n      <div style={{ marginBottom: 16 }}>\r\n        <label htmlFor=\"register-password\" style={{ color: 'var(--text-primary)' }}>Şifre</label>\r\n        <input id=\"register-password\" name=\"password\" type=\"password\" value={password} onChange={e => setPassword(e.target.value)} required style={{ width: '100%', padding: 8, borderRadius: 6, border: '1px solid var(--border-color)', marginTop: 4, backgroundColor: 'var(--input-bg)', color: 'var(--text-primary)' }} />\r\n      </div>\r\n      <div style={{ marginBottom: 16 }}>\r\n        <label htmlFor=\"register-confirm-password\" style={{ color: 'var(--text-primary)' }}>Şifre Tekrarı</label>\r\n        <input id=\"register-confirm-password\" name=\"confirmPassword\" type=\"password\" value={confirmPassword} onChange={e => setConfirmPassword(e.target.value)} required style={{ width: '100%', padding: 8, borderRadius: 6, border: '1px solid var(--border-color)', marginTop: 4, backgroundColor: 'var(--input-bg)', color: 'var(--text-primary)' }} />\r\n      </div>\r\n      {error && <div style={{ color: 'var(--error-color)', fontSize: 14, marginBottom: 12 }}>{error}</div>}\r\n      <button type=\"submit\" style={{ width: '100%', padding: 10, borderRadius: 8, background: 'var(--accent-color)', color: '#fff', border: 'none', fontWeight: 'bold', fontSize: 16 }} disabled={!username || !email || !password || !confirmPassword || loading}>{loading ? \"Üye Olunuyor...\" : \"Üye Ol\"}</button>\r\n    </form>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}